webpackJsonp([28],{PZ9o:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("0qgA"),s=i("ANQr"),a=(i("w3CS"),{name:"dictform",components:{formFile:i("gnUw").a},props:{formId:{type:String,default:""},row:{type:Object,default:{}}},data:function(){return{option:{name:"字典",apiName:"dict",callback:{},initObject:{id:this.formId},hasPermission:{save:{isShow:!0,isPermission:!0},back:{isShow:!0,isPermission:!0}},formObject:{id:"",label:"",value:"",type:"",description:"",sort:10},columns:[{label:"键值",value:"value",name:"officeName",type:"input",disHid:!1,disabled:!1,rule:[{required:!0,message:"键值不能为空"},{min:0,max:64,message:"键值必须介于 0 到 64 之间",trigger:"blur"}]},{label:"标签",value:"label",type:"input",disHid:!1,disabled:!1,rule:[{required:!0,message:"标签不能为空"},{min:0,max:64,message:"标签必须介于 0 到 64 之间",trigger:"blur"}]},{label:"类型",value:"type",type:"input",disHid:!1,disabled:!1,rule:[{required:!0,message:"类型不能为空"},{min:0,max:64,message:"类型必须介于 0 到 64 之间",trigger:"blur"}]},{label:"描述",value:"description",type:"input",disHid:!1,disabled:!1,rule:[{required:!0,message:"描述不能为空"},{min:0,max:64,message:"描述必须介于 0 到 64 之间",trigger:"blur"}]},{label:"排序",value:"sort",type:"input",disHid:!1,disabled:!1},{label:"备注",value:"remarks",type:"textarea",disHid:!1,disabled:!1}],formChildInfo:[]}}},created:function(){_.isEmpty(this.row)||(this.option.formObject.type=this.row.type,this.option.formObject.description=this.row.description,this.option.formObject.sort=this.row.sort+10)},computed:{},methods:{formCallback:function(){},goBack:function(){this.$emit("goBack")}}}),n={render:function(){var e=this.$createElement;return(this._self._c||e)("form-file",{attrs:{option:this.option},on:{goBack:this.goBack,formCallback:this.formCallback}})},staticRenderFns:[]},r=i("C7Lr")(a,n,!1,null,null,null).exports,l={name:"dictList",components:{quickTable:o.a,dictForm:r,baseButton:s.a},data:function(){return{typeList:[],option:{name:"字典",activeName:"dict",operWidth:300,formId:"",row:{},apiName:"dict",searchObject:{type:"",description:"",pageNo:1,pageSize:15},hasPermission:{edit:{isShow:!0,isPermission:!1},del:{isShow:!0,isPermission:!1}},columns:[{label:"键值",prop:"value"},{label:"标签",prop:"label",isClick:!0},{label:"类型",prop:"type",isClick:!0},{label:"描述",prop:"description"},{label:"排序",prop:"sort"}],searchColums:[{label:"类型",value:"type",type:"slot",slotName:"typeSlotName"},{label:"描述",value:"description",type:"input"}]},hasPermission:!1}},created:function(){var e=this;this.$store.dispatch("dict_getType").then(function(t){e.typeList=t.data.typeList}),this.$store.dispatch("hasPermission","sys:dict:edit").then(function(){e.hasPermission=e.$store.state.common.hasPermission,e.option.hasPermission.edit.isPermission=e.hasPermission,e.option.hasPermission.del.isPermission=e.hasPermission})},methods:{goBack:function(){this.option.formId="",this.option.row={},this.option.activeName="dict",this.$refs.quickTable.getList()},handleClick:function(e,t){"dict"==e.name&&(this.option.formId="",this.option.row={})},onSubmit:function(){this.$refs.quickTable.getList()},addKey:function(e){this.option.activeName="dictform",this.option.row=e}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.option.activeName,callback:function(t){e.$set(e.option,"activeName",t)},expression:"option.activeName"}},[i("el-tab-pane",{attrs:{label:"字典列表",name:"dict"}},[i("quick-table",{ref:"quickTable",attrs:{option:e.option},scopedSlots:e._u([{key:"typeSlotName",fn:function(t){var o=t.emitValue;return[i("el-form-item",{attrs:{label:"类型:",size:"medium"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:"请选择类型"},model:{value:e.option.searchObject[o],callback:function(t){e.$set(e.option.searchObject,o,t)},expression:"option.searchObject[emitValue]"}},e._l(e.typeList,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1)]}},{key:"menu",fn:function(t){var o=t.row;return[i("base-button",{attrs:{type:"success",icon:"el-icon-plus",size:"mini",content:"添加键值"},on:{buttonEvent:function(t){return e.addKey(o)}}})]}}])})],1),e._v(" "),i("el-tab-pane",{attrs:{label:""==e.option.formId?"字典添加":"字典编辑",name:"dictform"}},["dictform"==e.option.activeName?i("dict-form",{attrs:{row:e.option.row,formId:e.option.formId},on:{goBack:e.goBack}}):e._e()],1)],1)],1)},staticRenderFns:[]},m=i("C7Lr")(l,c,!1,null,null,null);t.default=m.exports}});