webpackJsonp([15],{DXr5:function(e,a){},Yfu9:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("c/w/"),r=t("0qgA"),o=t("w3CS"),l={name:"officeform",components:{formFile:t("gnUw").a},props:{formId:{type:String,default:""}},data:function(){return{option:{name:"部门",apiName:"office",callback:{},initObject:{id:this.formId},hasPermission:{save:{isShow:!0,isPermission:!0},back:{isShow:!0,isPermission:!0}},formObject:{},columns:[{label:"上级部门",value:"parentId",name:"parentName",type:"tree",tree:{isMultiple:!1,defaultProps:{id:"id",children:"children",label:"name"},treeMethod:"office_getOfficeTree",treeObject:{type:"",extId:""},treeData:[]}},{label:"归属区域",value:"areaId",name:"areaName",type:"tree",tree:{isMultiple:!1,defaultProps:{id:"id",children:"children",label:"text"},treeMethod:"area_getAreTree",treeObject:{extId:"",isAllGrade:!1},treeData:[]},rule:[{required:!0,message:"归属区域不能为空"}]},{label:"部门名称",value:"name",type:"input",disHid:!1,disabled:!1,rule:[{required:!0,message:"部门名称不能为空",trigger:"blur"},{validator:o.e({validateMethod:"office_checkNameCode",name:"部门名称",keyField:"name",fileId:this.formId}),trigger:"blur"}]},{label:"部门编码",value:"code",type:"input",disHid:!1,disabled:!1,rule:[{required:!0,message:"部门编码不能为空",trigger:"blur"},{validator:o.e({validateMethod:"office_checkNameCode",name:"部门编码",keyField:"code",fileId:this.formId}),trigger:"blur"}]},{label:"社会信用代码",value:"uscreditCode",type:"input",disHid:!1,disabled:!1,rule:[{min:0,max:64,message:"描述必须介于 0 到 64 之间",trigger:"blur"}]},{label:"是否可用",value:"useable",type:"select",dict:{dictType:"yes_no",dictData:[]},disHid:!1,disabled:!1},{label:"部门主管",value:"principal",name:"principalName",type:"tree",tree:{isMultiple:!1,defaultProps:{id:"id",children:"children",label:"name"},treeMethod:"office_getOfficeUserTree",treeObject:{isUser:!0},treeData:[]}}],formChildInfo:[]}}},created:function(){},computed:{},methods:{formCallback:function(){},goBack:function(){this.$emit("goBack")}}},n={render:function(){var e=this.$createElement;return(this._self._c||e)("form-file",{attrs:{option:this.option},on:{goBack:this.goBack,formCallback:this.formCallback}})},staticRenderFns:[]},s=t("C7Lr")(l,n,!1,null,null,null).exports,c={name:"office",components:{tree:i.a,quickTable:r.a,officeform:s},data:function(){return{option:{selection:!1,showIndex:!0,tableMenu:!0,isPage:!0,name:"部门",apiName:"office",activeName:"office",formId:"",searchObject:{name:null,areaId:null,areaName:"请选择",pageNo:1,pageSize:15},hasPermission:{edit:{isShow:!0,isPermission:!0},del:{isShow:!0,isPermission:!0}},columns:[{label:"部门名称",prop:"name"},{label:"归属区域",prop:"areaName"},{label:"部门主管",prop:"principalName"},{label:"部门编码",prop:"code"},{label:"是否可用",prop:"useable",dict:{dictType:"yes_no",dictData:[]}}],searchColums:[{label:"部门名称",value:"name",type:"input"},{label:"归属区域",value:"areaId",name:"areaName",type:"tree",tree:{isMultiple:!1,defaultProps:{id:"id",children:"children",label:"text"},treeMethod:"area_getAreTree",treeObject:{extId:"",isAllGrade:!1},treeData:[]}}]},hasPermission:!1}},computed:{},created:function(){var e=this;this.$store.dispatch("hasPermission","sys:office:edit").then(function(){e.hasPermission=e.$store.state.common.hasPermission})},methods:{goBack:function(){this.option.formId="",this.option.activeName="office",this.$refs.quickTable.getList()},handleClick:function(e,a){"office"==e.name&&(this.option.formId="")}}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.option.activeName,callback:function(a){e.$set(e.option,"activeName",a)},expression:"option.activeName"}},[t("el-tab-pane",{attrs:{label:"部门列表",name:"office"}},[t("quick-table",{ref:"quickTable",attrs:{option:e.option}})],1),e._v(" "),t("el-tab-pane",{attrs:{label:""==e.option.formId?"部门添加":"部门编辑",name:"officeform"}},["officeform"==e.option.activeName?t("officeform",{attrs:{formId:e.option.formId},on:{goBack:e.goBack}}):e._e()],1)],1)],1)},staticRenderFns:[]};var f=t("C7Lr")(c,d,!1,function(e){t("DXr5")},null,null);a.default=f.exports}});