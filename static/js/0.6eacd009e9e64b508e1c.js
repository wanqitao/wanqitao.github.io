webpackJsonp([0],{"0qgA":function(e,t,o){"use strict";var l=o("ZLEe"),i=o.n(l),n=o("aA9S"),a=o.n(n),s={name:"questionTooltip",data:function(){return{}},props:{content:{type:String,required:!1,default:"提示信息"},placement:{type:String,required:!1,default:"right"},effect:{type:String,required:!1,default:"dark"},questionClass:{type:String,required:!1,default:"popperClass"},questionIcon:{type:String,required:!1,default:"icon-question-sign"}},methods:{}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("span",{class:this.questionClass},[t("el-tooltip",{staticClass:"item",attrs:{effect:this.effect,content:this.content,placement:this.placement}},[t("i",{class:this.questionIcon})])],1)},staticRenderFns:[]};var r=o("C7Lr")(s,c,!1,function(e){o("6U9u")},null,null).exports,u=o("ANQr"),d=o("c/w/"),m=o("5m1h"),p={name:"searchCondition",components:{tree:d.a,basePassword:m.i,baseInput:m.f,baseSelect:m.k,baseDate:m.b,baseDaterange:m.c,baseTree:m.o,baseTime:m.m,baseTimerange:m.n,baseDatetime:m.d,baseDatetimerange:m.e},props:{option:{type:Object,default:function(){}},btnloading:{type:Boolean,default:!1}},created:function(){},computed:{},methods:{batchdel:function(){this.$emit("batchDel")},exportExcel:function(){this.$emit("exportExcel")},onSubmit:function(){this.$emit("onSubmit")}},data:function(){return{dateArray:[]}}},f={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"search_condition"},[e.option.searchColums.length>0?o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.option.searchObject}},[e._l(e.option.searchColums,function(t,l){return[t.type&&!t.disHid?o("span",{key:l},["input"==t.type?[o("base-input",{attrs:{column:t,options:e.option,labelType:"search"}})]:e._e(),e._v(" "),"password"==t.type?[o("base-password",{attrs:{column:t,options:e.option,labelType:"search"}})]:"select"==t.type?[o("base-select",{attrs:{column:t,options:e.option,labelType:"search"}})]:"date"==t.type?[o("base-date",{attrs:{column:t,options:e.option,labelType:"search"}})]:"daterange"==t.type?[o("base-daterange",{attrs:{column:t,options:e.option,labelType:"search"}})]:"time"==t.type?[o("base-time",{attrs:{column:t,options:e.option,labelType:"search"}})]:"timerange"==t.type?[o("base-timerange",{attrs:{column:t,options:e.option,labelType:"search"}})]:"datetime"==t.type?[o("base-datetime",{attrs:{column:t,options:e.option,labelType:"search"}})]:"datetimerange"==t.type?[o("base-datetimerange",{attrs:{column:t,options:e.option,labelType:"search"}})]:"tree"==t.type?[o("base-tree",{attrs:{column:t,options:e.option,labelType:"search"}})]:"slot"==t.type?[e._t(t.slotName,null,{searchValue:t.value})]:e._e()],2):e._e()]}),e._v(" "),o("el-form-item",[e._t("slotbefor"),e._v(" "),e.option.searchColums.length>0?o("el-button",{attrs:{type:"primary",loading:e.btnloading,icon:"el-icon-search",size:"small"},on:{click:e.onSubmit}},[e._v("搜 索")]):e._e(),e._v(" "),e.option.isMultDel?o("el-button",{attrs:{type:"danger",loading:e.btnloading,icon:"el-icon-delete",size:"small"},on:{click:e.batchdel}},[e._v("批量删除")]):e._e(),e._v(" "),e.option.isExport?o("el-button",{attrs:{type:"warning",loading:e.btnloading,icon:e.option.exportIcon||"el-icon-download",size:"small"},on:{click:e.exportExcel}},[e._v(e._s(e.option.exportTitle||"导出"))]):e._e(),e._v(" "),e._t("slotafter")],2)],2):e._e()],1)},staticRenderFns:[]},h=o("C7Lr")(p,f,!1,null,null,null).exports,b=o("dqd5"),g=o("oAV5"),v={name:"commonTableList",components:{questionTooltip:r,Viewer:o("6MWA").a,tableOpear:b.a,searchCondition:h,baseButton:u.a},props:{option:{type:Object,default:function(){}}},data:function(){return{imgurl:"",imgVisible:!1,dateArray:[],count:0,columnsShow:[],loading:!1,multipleSelection:[],tableList:[],tableObject:{},defaultoption:{selection:!1,showIndex:!0,tableMenu:!1,isOper:!0,isPage:!0,isMultDel:!1,count:0,name:"模板",apiName:"model",searchObject:{},hasPermission:{edit:{isShow:!0,isPermission:!0},del:{isShow:!0,isPermission:!0}},columns:[],searchColums:[],searchButton:{slotbefor:"slotbefor",slotafter:"slotafter"}}}},computed:{options:function(){return a()({},this.defaultoption,this.option)}},created:function(){this.initData();var e=this.options.tableList;e&&e.length>0?this.tableList=e:this.getList()},methods:{sortChange:function(e){var t=e.order?e.order.replace("ending",""):"";this.$set(this.tableObject,"sort",t),this.$set(this.tableObject,"sortName",e.prop),this.getList()},thousandBitSeparator:g.q,formatDate:g.g,initData:function(){var e=this.options.columns||[];this.tableObject=this.options.searchObject;var t=e.length,o=((this.options.searchColums||[]).length,this.options.hasPermission);o.edit.isShow&&o.edit.flag&&this.getHasPermission(o.edit),o.del.isShow&&o.del.flag&&this.getHasPermission(o.del);for(var l=0;l<t;l++)if(e[l].dict){if(e[l].dict.dictData&&e[l].dict.dictData.length>0)continue;this.getDictType(e[l].dict)}},changeColumn:function(e){this.columnsShow=e},refresh:function(){for(var e=i()(this.tableObject),t=0;t<e.length;t++){var o=e[t];"sort"!=o&&"sortName"!=o||delete this.tableObject[o]}this.getList(),this.$refs.commonTable.clearSort()},handleSelectionChange:function(e){this.multipleSelection=e},getList:function(){var e=this;this.loading=!0;var t=_.cloneDeep(this.tableObject);i()(t).forEach(function(e){Array.isArray(t[e])&&(t[e]=t[e].toString())}),this.$store.dispatch(this.options.apiName+"_getList",t).then(function(t){t&&"200"==t.code?(e.tableList=t.data.rows,e.count=t.data.count,e.option.count=t.data.count):e.$message({message:t.message||"获取失败",showClose:!0,type:"error",duration:3e3}),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1,e.btndisabled=!1})},getDictType:function(e){var t=this,o=arguments;Object(g.j)(e.method)?this.$store.dispatch("dict_getDictListByType",e.dictType).then(function(){if(e.dictData=t.$store.state.dict.dictListType,o.length>1)for(var l=1;l<o.length;l++)o[l].dictData=e.dictData}):this.$store.dispatch(e.method,e.params).then(function(o){o&&"200"==o.code?e.dictData=o.data.rows:t.$message({message:o.message||"字典获取失败",showClose:!0,type:"error",duration:3e3})})},fileDownLoad:function(e){var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();if(e=encodeURIComponent(e),"jpg"==t||"png"==t||"bmp"==t||"gif"==t||"jpeg"==t)this.imgVisible=!0,this.imgurl="mcws/sys/fileUpload/downloadFile?path="+e,this.images.push(this.imgurl);else if("pdf"==t){var o={path:e};this.$store.dispatch("navbar_showPdf",o).then(function(e){var t="../../../../static/pdfjs-2.0.943-dist/web/viewer.html?file="+encodeURIComponent(e.data.path);window.open(t,"_blank")})}else window.open("mcws/sys/fileUpload/downloadFile?path="+e,"_blank")},getTreeData:function(e){var t=arguments;this.$store.dispatch(e.treeMethod,e.treeObject).then(function(o){if(e.treeData=o.data.treeData,t.length>1)for(var l=1;l<t.length;l++)t[l].treeData=e.treeData})},getHasPermission:function(e){var t=this;this.$store.dispatch("hasPermission",e.flag).then(function(){e.isPermission=t.$store.state.common.hasPermission})},exportExcel:function(){var e=this;this.loading=!0;var t=this.options.exportMethod||this.options.apiName+"_export",o=_.cloneDeep(this.tableObject);i()(o).forEach(function(e){Array.isArray(o[e])&&(o[e]=o[e].toString())}),this.$store.dispatch(""+t,o).then(function(t){try{t?(Object(g.d)(t,e.options.exportFileName||"模板.xls"),e.loading=!1):(e.$message({message:"获取失败",showClose:!0,type:"error",duration:3e3}),e.loading=!1)}catch(t){e.$message({message:t,showClose:!0,type:"error",duration:3e3}),e.loading=!1}})},batchdel:function(){if(0!==this.multipleSelection.length){var e=this.arrayToString(this.multipleSelection,"id");this.del("您确定要删除所有选中的"+this.options.name+"吗？",e)}else this.$message({message:"请至少选择一条要删除的数据",showClose:!0,type:"warning",duration:3e3})},delRow:function(e,t){this.del("您确定要删除该条"+this.options.name+"吗？",t.id)},del:function(e,t){var o=this;this.$confirm(e,"",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.loading=!0,o.$store.dispatch(o.options.apiName+"_delete",{id:t}).then(function(e){e&&"200"==e.code?(1===o.tableList.length&&(o.tableObject.pageNo=1),o.$message({message:"删除成功",showClose:!0,type:"success",duration:3e3}),o.getList()):(o.$message({message:e.message,showClose:!0,type:"error",duration:3e3}),o.loading=!1)})}).catch(function(){o.loading=!1})},editRow:function(e){this.option.formId=e.id,this.option.activeName=this.options.apiName+"form"},lookRow:function(e){this.option.formId=e.id,this.option.readOnly=!0,this.option.activeName=this.options.apiName+"form"},onSubmit:function(){this.tableObject.pageNo=1,this.getList()},handleSizeChange:function(e){this.tableObject.pageSize=e,this.getList()},handleCurrentChange:function(e){this.tableObject.pageNo=e,this.getList()}}},y={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"quick-table"},[e.options.searchColums.length>0?o("search-condition",{style:{width:e.options.searchColums.length>0?"calc(100% - 100px)":""},attrs:{option:e.options,btnloading:e.loading},on:{onSubmit:e.onSubmit,batchDel:e.batchdel,exportExcel:e.exportExcel},scopedSlots:e._u([e._l(e.options.searchColums,function(t){return{key:t.slotName,fn:function(o){var l=o.searchValue;return[e._t(t.slotName,null,{emitValue:l})]}}})],null,!0)},[e._v(" "),e.options.searchButton?[o("template",{slot:e.options.searchButton.slotbefor},[e._t(e.options.searchButton.slotbefor,null,{emitSelect:e.multipleSelection})],2),e._v(" "),o("template",{slot:e.options.searchButton.slotafter},[e._t(e.options.searchButton.slotafter,null,{emitSelect:e.multipleSelection})],2)]:e._e()],2):e._e(),e._v(" "),o("table-opear",{style:{"margin-top":e.options.searchColums.length>0?"-54px":""},attrs:{option:e.options},on:{changeColumn:e.changeColumn,refresh:e.refresh}}),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"commonTable",staticStyle:{width:"100%"},attrs:{data:e.tableList,stripe:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.sortChange}},[e.options.selection?o("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),e.options.showIndex?o("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}):e._e(),e._v(" "),e._l(e.options.columns,function(t,l){return[-1!=e.columnsShow.indexOf(t.prop)?o("el-table-column",{key:l,attrs:{prop:t.prop,sortable:t.sortable,"show-overflow-tooltip":0!=t.showTooltip,label:t.label+(t.labelUnit||""),width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){return[t.formatter?[o("span",{domProps:{innerHTML:e._s(t.formatter(i.row,t.prop,i.row[t.prop],i.column))}})]:[t.dict?o("span",[t.dict.tags&&t.dict.tags.length>0?[o("el-tag",{key:l,attrs:{type:e.getDictLabel(i.row[t.prop],t.dict.tags).label}},[e._v("\n                  "+e._s(e.getDictLabel(i.row[t.prop],t.dict.dictData).label)+"\n                ")])]:[o("span",[e._v(e._s(e.getDictLabel(i.row[t.prop],t.dict.dictData).label))])]],2):o("span",[t.isClick?o("span",[t.clickFunction?o("span",{staticClass:"atitle",on:{click:function(e){return t.clickFunction(i.row)}}},[e._v("\n                  "+e._s(i.row[t.prop])+"\n                ")]):o("span",{staticClass:"atitle",on:{click:function(t){e.option.hasPermission.edit.clickFunction?e.option.hasPermission.edit.clickFunction(i.row):e.editRow(i.row)}}},[e._v("\n                  "+e._s(i.row[t.prop])+"\n                ")])]):t.isMoney?o("span",[e._v(" "+e._s(e.thousandBitSeparator(i.row[t.prop]))+" ")]):t.isFiles?o("span",[""==i.row[t.prop]||void 0==i.row[t.prop]?o("span",[e._v("——")]):o("span",e._l(i.row[t.prop].split(","),function(t,l){return o("span",{key:l,staticStyle:{cursor:"pointer","text-decoration":"underline"},on:{click:function(o){return e.fileDownLoad(t)}}},[e._v("\n                    "+e._s(l+1)+"、"+e._s(t.substring(t.lastIndexOf("/")+1))),o("br")])}),0)]):t.formatDate?o("span",[e._v(" "+e._s(i.row[t.prop]?e.formatDate(new Date(i.row[t.prop]),t.formatDate):"——")+" ")]):o("span",[e._v(" "+e._s(i.row[t.prop]?i.row[t.prop]:"——")+" ")])])]]}}],null,!0)}):e._e()]}),e._v(" "),e.options.isOper?o("el-table-column",{attrs:{label:"操作",width:e.options.operWidth?e.options.operWidth:200},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("menuTop",null,{row:t.row,index:t.$index}),e._v(" "),e.options.hasPermission.edit.isShow&&e.options.hasPermission.edit.isPermission?[o("base-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",content:"编辑"},on:{buttonEvent:function(o){e.option.hasPermission.edit.clickFunction?e.option.hasPermission.edit.clickFunction(t.row):e.editRow(t.row)}}})]:[e.options.hasPermission.edit.flag?o("base-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini",content:"查看"},on:{buttonEvent:function(o){return e.lookRow(t.row)}}}):e._e()],e._v(" "),e._t("menuCenter",null,{row:t.row,index:t.$index}),e._v(" "),e.options.hasPermission.del.isShow&&e.options.hasPermission.del.isPermission?o("base-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",content:"删除"},on:{buttonEvent:function(o){e.option.hasPermission.del.clickFunction?e.option.hasPermission.del.clickFunction(t.$index,t.row):e.delRow(t.$index,t.row)}}}):e._e(),e._v(" "),e._t("menu",null,{row:t.row,index:t.$index})]}}],null,!0)}):e._e()],2),e._v(" "),e.options.isPage?o("el-pagination",{attrs:{background:"","current-page":e.tableObject.pageNo,"page-sizes":e.tableObject.pageSizes||[15,30,50,100],"page-size":e.tableObject.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.tableObject,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableObject,"pageNo",t)}}}):e._e(),e._v(" "),o("viewer",{attrs:{src:e.imgurl},model:{value:e.imgVisible,callback:function(t){e.imgVisible=t},expression:"imgVisible"}})],1)},staticRenderFns:[]},O=o("C7Lr")(v,y,!1,null,null,null);t.a=O.exports},"1COB":function(e,t){},"35Vf":function(e,t,o){"use strict";var l=o("aA9S"),i=o.n(l),n=o("ANQr"),a=(o("oAV5"),o("mucQ")),s=o("5m1h"),c={name:"quickForm",directives:{elDragDialog:a.a},components:{baseButton:n.a,basePassword:s.i,baseInput:s.f,baseRadio:s.j,baseCheckbox:s.a,baseSelect:s.k,baseInputnum:s.g,baseNumber:s.h,baseTextarea:s.l,baseDate:s.b,baseDaterange:s.c,baseTime:s.m,baseTimerange:s.n,baseTree:s.o,baseUpload:s.p,baseDatetime:s.d,baseDatetimerange:s.e},props:{option:{type:Object,default:function(){}}},data:function(){return{dateArray:[],defaultProps:{id:"id",children:"children",label:"name"},dialogVisible:!1,defaultoption:{title:"",childObject:{},index:0,disabled:!1,childArray:[]}}},computed:{options:function(){var e=i()({},this.defaultoption,this.option);return e}},created:function(){this.initData()},mounted:function(){},methods:{initData:function(){},toggle_dialog:function(){this.dialogVisible=!this.dialogVisible},commonSubmitSave:function(e){var t=this;this.$refs.quickDialogForm.validate(function(e){if(!e)return console.log("表单验证失败"),!1;t.$emit("submit")})}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.dialogVisible?o("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:e.options.title,visible:e.dialogVisible,width:"70%",center:"center"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"quickDialogForm",staticClass:"baseform Contacts",staticStyle:{width:"90%"},attrs:{model:e.options.childObject,"label-width":e.options.labelWidth?e.options.labelWidth:"100px"}},[o("div",{staticClass:"infoform",staticStyle:{width:"95%"}},[o("div",{staticClass:"form_title"},[e._v("基本信息")]),e._v(" "),o("div",{staticStyle:{width:"90%",margin:"0 auto"}},[o("div",{staticClass:"dialog_form"},[e._l(e.options.childArray,function(t,l){return["input"==t.type?[o("base-input",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:e._e(),e._v(" "),"password"==t.type?[o("base-password",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"radio"==t.type?[o("base-radio",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"checkbox"==t.type?[o("base-checkbox",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"inputNumber"==t.type?[o("base-inputnum",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"number"==t.type?[o("base-number",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"textarea"==t.type?[o("base-textarea",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"select"==t.type?[o("base-select",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"date"==t.type?[o("base-date",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"daterange"==t.type?[o("base-daterange",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"time"==t.type?[o("base-time",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"timerange"==t.type?[o("base-timerange",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"datetime"==t.type?[o("base-datetime",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"datetimerange"==t.type?[o("base-datetimerange",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"tree"==t.type?[o("base-tree",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"upload"==t.type?[o("base-upload",{key:l,attrs:{column:t,options:e.options,labelType:"child"}})]:"slot"==t.type?[e._t(t.slotName,null,{emitValue:t,emitObject:e.options})]:e._e()]})],2)])])]),e._v(" "),o("span",{staticClass:"dialog-footer save-return",attrs:{slot:"footer"},slot:"footer"},[e.options.disabled?e._e():o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.commonSubmitSave("quickDialogForm")}}},[e._v("保 存")]),e._v(" "),o("el-button",{on:{click:function(t){return e.toggle_dialog()}}},[e._v("返 回")])],1)],1):e._e()},staticRenderFns:[]},u=o("C7Lr")(c,r,!1,null,null,null);t.a=u.exports},"5m1h":function(e,t,o){"use strict";var l={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){},directives:{maxlength:{inserted:function(e,t){if(t.value){var o=e.childNodes;_.filter(o,function(e){return"input"==e.localName})[0].style.paddingRight="80px"}}}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[e.column.isNumber?[o("el-input",{directives:[{name:"maxlength",rawName:"v-maxlength",value:e.column.maxlength,expression:"column.maxlength"}],staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,clearable:"",maxlength:e.column.maxlength},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,e._n(t))},expression:"options.formObject[column.value]"}})]:[o("el-input",{directives:[{name:"maxlength",rawName:"v-maxlength",value:e.column.maxlength,expression:"column.maxlength"}],staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,clearable:"",maxlength:e.column.maxlength},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.formObject[column.value]"}})],e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e(),e._v(" "),e.column.maxlength?o("span",{staticClass:"quick-input-tip"},[e._v(e._s(e.options.formObject[e.column.value]?e.options.formObject[e.column.value].length:0)+" / "+e._s(e.column.maxlength))]):e._e()],2)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{directives:[{name:"maxlength",rawName:"v-maxlength",value:e.column.maxlength,expression:"column.maxlength"}],style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,clearable:"",maxlength:e.column.maxlength},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e(),e._v(" "),e.column.maxlength?o("span",{staticClass:"quick-input-tip"},[e._v(e._s(e.options.formObject[e.column.value]?e.options.formObject[e.column.value].length:0)+" / "+e._s(e.column.maxlength))]):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-input",{style:e.column.style||"width:100%;",attrs:{placeholder:e.column.placeholder||"请输入"+e.column.label,clearable:""},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.searchObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)]:e._e()],2)},staticRenderFns:[]};var n=o("C7Lr")(l,i,!1,function(e){o("D10G")},"data-v-9189afc0",null).exports,a=o("oAV5"),s={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){this.column.dict.dictData&&this.column.dict.dictData.length>0||this.getDictType(this.column.dict)},methods:{getDictType:function(e){var t=this,o=arguments;Object(a.j)(e.method)?e.dictData instanceof Array?this.$store.dispatch("dict_getDictListByType",e.dictType).then(function(){if(e.dictData=t.$store.state.dict.dictListType,o.length>1)for(var l=1;l<o.length;l++)o[l].dictData=e.dictData}):e.dictData.then(function(t){e.dictData=t}):this.$store.dispatch(e.method,e.params).then(function(o){o&&"200"==o.code?e.dictData=o.data.rows:t.$message({message:o.message||"获取失败",showClose:!0,type:"error",duration:3e3})})}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-radio-group",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,filterable:"",clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}},e._l(e.column.dict.dictData,function(t){return o("el-radio",{key:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value,attrs:{label:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value,disabled:t.disabled}},[e._v(e._s(e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label))])}),1),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-radio-group",{style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,filterable:"",clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label},model:{value:e.childInfo.childObject[e.column.value],callback:function(t){e.$set(e.childInfo.childObject,e.column.value,t)},expression:"childInfo.childObject[column.value]"}},e._l(e.column.dict.dictData,function(t){return o("el-radio",{key:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value,attrs:{label:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value,disabled:t.disabled}},[e._v(e._s(e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label))])}),1),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e()],2)},staticRenderFns:[]},r=o("C7Lr")(s,c,!1,null,null,null).exports,u={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){this.column.data.dataList&&this.column.data.dataList.length>0||this.getBoxData(this.column.data)},methods:{getBoxData:function(e){var t=arguments;e.dataList instanceof Array?this.$store.dispatch(e.dataMethod,e.dataObject).then(function(o){if(e.dataList=o.data.rows,t.length>1)for(var l=1;l<t.length;l++)t[l].dataList=o.data.rows}):e.dataList.then(function(t){e.dataList=t})}}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-checkbox-group",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,filterable:"",clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}},e._l(e.column.data.dataList,function(t){return o("el-checkbox",{key:e.column.data.defaultProps?t[e.column.data.defaultProps.value]:t.value,attrs:{label:e.column.data.defaultProps?t[e.column.data.defaultProps.value]:t.value,disabled:t.disabled}},[e._v(e._s(e.column.data.defaultProps?t[e.column.data.defaultProps.label]:t.label))])}),1),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-checkbox-group",{style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,filterable:"",clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label},model:{value:e.childInfo.childObject[e.column.value],callback:function(t){e.$set(e.childInfo.childObject,e.column.value,t)},expression:"childInfo.childObject[column.value]"}},e._l(e.column.data.dataList,function(t){return o("el-checkbox",{key:e.column.data.defaultProps?t[e.column.data.defaultProps.value]:t.value,attrs:{label:e.column.data.defaultProps?t[e.column.data.defaultProps.value]:t.value,disabled:t.disabled}},[e._v(e._s(e.column.data.defaultProps?t[e.column.data.defaultProps.label]:t.label))])}),1),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e()],2)},staticRenderFns:[]},m=o("C7Lr")(u,d,!1,null,null,null).exports,p={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){this.column.dict.dictData&&this.column.dict.dictData.length>0||1==this.column.disHid||this.getDictType(this.column.dict)},methods:{selectCallback:function(e,t){t.dict.defaultProps&&(t.name=e[t.dict.defaultProps.label]),t.callback&&t.callback(e)},getDictType:function(e){var t=this,o=arguments;if(Object(a.j)(e.method))if(e.dictData instanceof Array){if(Object(a.j)(e.dictType))return void(e.dictData=[]);this.$store.dispatch("dict_getDictListByType",e.dictType).then(function(){if(e.dictData=t.$store.state.dict.dictListType,o.length>1)for(var l=1;l<o.length;l++)o[l].dictData=e.dictData})}else{e.dictData.then(function(t){e.dictData=t})}else this.$store.dispatch(e.method,e.params).then(function(o){o&&"200"==o.code?e.dictData=o.data.rows:t.$message({message:o.message||"获取失败",showClose:!0,type:"error",duration:3e3})})}}},f={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-select",{style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,filterable:"",clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}},e._l(e.column.dict.dictData,function(t){return o("el-option",{key:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value,attrs:{label:e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label,value:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value}},[o("li",{on:{click:function(o){return e.selectCallback(t,e.column)}}},[e._v(e._s(e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label))])])}),1),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-select",{style:e.column.style||"width:100%;",attrs:{filterable:"",clearable:"",disabled:e.column.disabled,placeholder:e.column.placeholder||"请选择"+e.column.label},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}},e._l(e.column.dict.dictData,function(t){return o("el-option",{key:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value,attrs:{label:e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label,value:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value}},[o("li",{on:{click:function(o){return e.selectCallback(t,e.column)}}},[e._v(e._s(e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label))])])}),1),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"!=e.labelType||e.column.disHid?e._e():[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-select",{style:e.column.style||"width:100%;",attrs:{filterable:"",clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}},e._l(e.column.dict.dictData,function(t){return o("el-option",{key:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value,attrs:{label:e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label,value:e.column.dict.defaultProps?t[e.column.dict.defaultProps.value]:t.value}},[o("li",{on:{click:function(o){return e.selectCallback(t,e.column)}}},[e._v(e._s(e.column.dict.defaultProps?t[e.column.dict.defaultProps.label]:t.label))])])}),1)],1)]],2)},staticRenderFns:[]},h=o("C7Lr")(p,f,!1,null,null,null).exports,b={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){},methods:{getPrecision:function(e){return Object(a.j)(e)?2:e}}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input-number",{staticStyle:{width:"100%"},attrs:{precision:e.getPrecision(e.column.precision),min:e.column.min||0,max:e.column.max||100,step:e.column.step||1,disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,clearable:""},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.formObject[column.value]"}})],1),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input-number",{style:e.column.style||"width:100%;",attrs:{precision:e.getPrecision(e.column.precision),min:e.column.min||0,max:e.column.max||100,step:e.column.step||1,disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,clearable:""},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e()],2)},staticRenderFns:[]},v=o("C7Lr")(b,g,!1,null,null,null).exports,y={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){}},O={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,type:"number",clearable:""},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,e._n(t))},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,type:"number",clearable:""},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,e._n(t))},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e()],2)},staticRenderFns:[]},w=o("C7Lr")(y,O,!1,null,null,null).exports,k={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){}},C={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:24,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,rows:e.column.rows||6,maxlength:e.column.maxlength,clearable:""},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e(),e._v(" "),e.column.maxlength?o("span",{staticClass:"quick-input-tip"},[e._v(e._s(e.options.formObject[e.column.value]?e.options.formObject[e.column.value].length:0)+" / "+e._s(e.column.maxlength))]):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item_wrap"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{style:e.column.style||"width:100%;",attrs:{type:"textarea",disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,rows:e.column.rows||6,maxlength:e.column.maxlength,clearable:""},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e(),e._v(" "),e.column.maxlength?o("span",{staticClass:"quick-input-tip"},[e._v(e._s(e.options.formObject[e.column.value]?e.options.formObject[e.column.value].length:0)+" / "+e._s(e.column.maxlength))]):e._e()],1)],1)]:e._e()],2)},staticRenderFns:[]};var x=o("C7Lr")(k,C,!1,function(e){o("iZyC")},"data-v-768e30b6",null).exports,j={name:"baseDate",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},directives:{toweek:{inserted:function(e,t){if(t.value){var o=e.childNodes;_.filter(o,function(e){return"input"==e.localName})[0].setAttribute("style","color: rgba(255,255,255,0) !important; text-indent: 70px;")}}}},computed:{toWeek:function(){return Object(a.c)(this.options.formObject[this.column.value])}},data:function(){var e;return{pickerOptions:(e=this,{disabledDate:function(t){if(e.column.pickerOptions)switch(e.column.pickerOptions.identifier){case"NowAndAfter":return t.getTime()<Date.now()-864e5;case"NowAndBefore":return t.getTime()>Date.now()-864e4;case"After":return t.getTime()<Date.now();case"Before":return t.getTime()>Date.now();default:return t.getTime()<new Date(e.column.pickerOptions.identifier)}}})}},created:function(){}},T={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"baseDate"},["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{staticClass:"item-ddd",attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{directives:[{name:"toweek",rawName:"v-toweek",value:e.column.toweek,expression:"column.toweek"}],staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,type:"date","picker-options":e.pickerOptions,placeholder:e.column.placeholder||"请选择"+e.column.label,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e(),e._v(" "),e.column.toweek?o("span",{staticClass:"quick-date-toweek"},[e._v(e._s(e.toWeek))]):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{directives:[{name:"toweek",rawName:"v-toweek",value:e.column.toweek,expression:"column.toweek"}],style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,type:"date","picker-options":e.pickerOptions,placeholder:e.column.placeholder||"请选择"+e.column.label,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e(),e._v(" "),e.column.toweek?o("span",{staticClass:"quick-date-toweek"},[e._v(e._s(e.toWeek))]):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-date-picker",{directives:[{name:"toweek",rawName:"v-toweek",value:e.column.toweek,expression:"column.toweek"}],attrs:{type:"date","picker-options":e.pickerOptions,placeholder:e.column.placeholder||"请选择"+e.column.label,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}}),e._v(" "),e.column.toweek?o("span",{staticClass:"quick-date-toweek"},[e._v(e._s(e.toWeek))]):e._e()],1)]:e._e()],2)},staticRenderFns:[]};var D=o("C7Lr")(j,T,!1,function(e){o("ZJrz")},null,null).exports,S={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){var e;return{pickerOptions:(e=this,{disabledDate:function(t){if(e.column.pickerOptions)switch(e.column.pickerOptions.identifier){case"NowAndAfter":return t.getTime()<Date.now()-864e5;case"NowAndBefore":return t.getTime()>Date.now()-864e4;case"After":return t.getTime()<Date.now();case"Before":return t.getTime()>Date.now();default:return e.column.pickerOptions.callback(t)}}})}},created:function(){}},$={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",disabled:e.column.disabled,clearable:"","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","end-placeholder":"结束日期"},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{key:e.childIndex,staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{style:e.column.style||"width:100%;",attrs:{type:"daterange",disabled:e.column.disabled,clearable:"","picker-options":e.pickerOptions,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-date-picker",{style:e.column.style||"width:100%;",attrs:{type:"daterange",clearable:"","picker-options":e.pickerOptions,format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}})],1)]:e._e()],2)},staticRenderFns:[]},I=o("C7Lr")(S,$,!1,null,null,null).exports,L={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){var e;return{pickerOptions:(e=this,{disabledDate:function(t){if(e.column.pickerOptions)switch(e.column.pickerOptions.identifier){case"NowAndAfter":return t.getTime()<Date.now()-864e5;case"NowAndBefore":return t.getTime()>Date.now()-864e4;case"After":return t.getTime()<Date.now();case"Before":return t.getTime()>Date.now();default:return e.column.pickerOptions.callback(t)}}})}},created:function(){}},P={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,type:"datetime","picker-options":e.pickerOptions,placeholder:e.column.placeholder||"请选择"+e.column.label,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,type:"datetime","picker-options":e.pickerOptions,placeholder:e.column.placeholder||"请选择"+e.column.label,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-date-picker",{attrs:{type:"datetime","picker-options":e.pickerOptions,placeholder:e.column.placeholder||"请选择"+e.column.label,"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}})],1)]:e._e()],2)},staticRenderFns:[]},N=o("C7Lr")(L,P,!1,null,null,null).exports,H={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){var e;return{pickerOptions:(e=this,{disabledDate:function(t){if(e.column.pickerOptions)switch(e.column.pickerOptions.identifier){case"NowAndAfter":return t.getTime()<Date.now()-864e5;case"NowAndBefore":return t.getTime()>Date.now()-864e4;case"After":return t.getTime()<Date.now();case"Before":return t.getTime()>Date.now();default:return e.column.pickerOptions.callback(t)}}})}},created:function(){}},q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange",disabled:e.column.disabled,clearable:"","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","value-format":"yyyy-MM-dd HH:mm:ss","end-placeholder":"结束日期"},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{key:e.childIndex,staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-date-picker",{style:e.column.style||"width:100%;",attrs:{type:"datetimerange",disabled:e.column.disabled,clearable:"","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","value-format":"yyyy-MM-dd HH:mm:ss","end-placeholder":"结束日期"},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-date-picker",{style:e.column.style||"width:100%;",attrs:{type:"datetimerange",clearable:"","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","value-format":"yyyy-MM-dd HH:mm:ss","end-placeholder":"结束日期"},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}})],1)]:e._e()],2)},staticRenderFns:[]},E=o("C7Lr")(H,q,!1,null,null,null).exports,A={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){var e;return{pickerOptions:(e=this,{disabledDate:function(t){if(e.column.pickerOptions)switch(e.column.pickerOptions.identifier){case"NowAndAfter":return t.getTime()<Date.now()-864e5;case"NowAndBefore":return t.getTime()>Date.now()-864e4;case"After":return t.getTime()<Date.now();case"Before":return t.getTime()>Date.now();default:return e.column.pickerOptions.callback(t)}}})}},created:function(){}},M={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,clearable:"",format:"HH:mm:ss",placeholder:e.column.placeholder||"请选择"+e.column.label,"value-format":e.column.valueFormat||"HH:mm:ss"},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label,format:"HH:mm:ss","value-format":e.column.valueFormat||"HH:mm:ss"},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label,format:"HH:mm:ss","value-format":e.column.valueFormat||"HH:mm:ss"},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}})],1)]:e._e()],2)},staticRenderFns:[]},F=o("C7Lr")(A,M,!1,null,null,null).exports,B={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){var e;return{pickerOptions:(e=this,{disabledDate:function(t){if(e.column.pickerOptions)switch(e.column.pickerOptions.identifier){case"NowAndAfter":return t.getTime()<Date.now()-864e5;case"NowAndBefore":return t.getTime()>Date.now()-864e4;case"After":return t.getTime()<Date.now();case"Before":return t.getTime()>Date.now();default:return e.column.pickerOptions.callback(t)}}})}},created:function(){}},z={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,clearable:"","is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm",placeholder:e.column.placeholder||"请选择"+e.column.label,"value-format":e.column.valueFormat||"HH:mm"},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label,format:"HH:mm","is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":e.column.valueFormat||"HH:mm"},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("el-time-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,clearable:"",placeholder:e.column.placeholder||"请选择"+e.column.label,format:"HH:mm","is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":e.column.valueFormat||"HH:mm"},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}})],1)]:e._e()],2)},staticRenderFns:[]},R=o("C7Lr")(B,z,!1,null,null,null).exports,U={name:"baseInput",components:{tree:o("c/w/").a},props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{defaultProps:{id:"id",children:"children",label:"name"}}},created:function(){this.column.tree.treeData&&this.column.tree.treeData.length>0||this.getTreeData(this.column.tree)},methods:{getTreeCheckName:function(e,t,o){var l=t.tree.defaultProps||this.defaultProps;"child"==this.labelType?t.callback?t.callback(e,t,o):t.tree.isMultiple?(this.$set(o.childObject,t.name,this.arrayToString(e,l.label)),this.$set(o.childObject,t.value,this.arrayToString(e,l.id))):(this.$set(o.childObject,t.name,e[l.label]),this.$set(o.childObject,t.value,e[l.id])):t.callback?t.callback(e,t,o):t.tree.isMultiple?"form"==this.labelType?(this.options.formObject[t.name]=this.arrayToString(e,l.label),this.options.formObject[t.value]=this.arrayToString(e,l.id)):(this.options.searchObject[t.name]=this.arrayToString(e,l.label),this.options.searchObject[t.value]=this.arrayToString(e,l.id)):"form"==this.labelType?(this.options.formObject[t.name]=e[l.label],this.options.formObject[t.value]=e[l.id]):(this.options.searchObject[t.name]=e[l.label],this.options.searchObject[t.value]=e[l.id])},getTreeData:function(e){var t=arguments;e.treeData instanceof Array?this.$store.dispatch(e.treeMethod,e.treeObject).then(function(o){if(e.treeData=o.data.treeData,t.length>1)for(var l=1;l<t.length;l++)t[l].treeData=e.treeData}):e.treeData.then(function(t){e.treeData=t})}}},V={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("tree",{staticStyle:{width:"100%"},attrs:{treeData:e.column.tree.treeData,isFilter:!!e.column.tree.filter&&e.column.tree.filter.isFilter,filterProperty:e.column.tree.filter?e.column.tree.filter.filterProperty:void 0,filterMessage:e.column.tree.filter?e.column.tree.filter.filterMessage:void 0,disabled:e.column.disabled,showCheckbox:e.column.tree.isMultiple,title:e.column.placeholder||"请输入"+e.column.label,name:e.options.formObject[e.column.name],defaultProps:e.column.tree.defaultProps},on:{getTreeCheckName:function(t){e.getTreeCheckName(t,e.column,e.options)}},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("tree",{style:e.column.style||"width:100%;",attrs:{treeData:e.column.tree.treeData,isFilter:!!e.column.tree.filter&&e.column.tree.filter.isFilter,filterProperty:e.column.tree.filter?e.column.tree.filter.filterProperty:void 0,filterMessage:e.column.tree.filter?e.column.tree.filter.filterMessage:void 0,modal:!1,disabled:e.column.disabled,showCheckbox:e.column.tree.isMultiple,title:e.column.placeholder||"请输入"+e.column.label,name:e.options.childObject[e.column.name],defaultProps:e.column.tree.defaultProps},on:{getTreeCheckName:function(t){e.getTreeCheckName(t,e.column,e.options)}},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",size:"medium"}},[o("tree",{attrs:{treeData:e.column.tree.treeData,isFilter:!!e.column.tree.filter&&e.column.tree.filter.isFilter,filterProperty:e.column.tree.filter?e.column.tree.filter.filterProperty:void 0,filterMessage:e.column.tree.filter?e.column.tree.filter.filterMessage:void 0,disabled:e.column.disabled,showCheckbox:e.column.tree.isMultiple,title:e.column.placeholder||"请输入"+e.column.label,name:e.options.searchObject[e.column.name],defaultProps:e.column.tree.defaultProps},on:{getTreeCheckName:function(t){e.getTreeCheckName(t,e.column,e.options)}},model:{value:e.options.searchObject[e.column.value],callback:function(t){e.$set(e.options.searchObject,e.column.value,t)},expression:"options.searchObject[column.value]"}})],1)]:e._e()],2)},staticRenderFns:[]},W=o("C7Lr")(U,V,!1,null,null,null).exports,X={name:"baseInput",components:{upload:o("BD2p").a},props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},updated:function(){},created:function(){}},K={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{staticStyle:{width:"70%",display:"inline"},attrs:{type:"hidden"},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.formObject[column.value]"}}),e._v(" "),o("upload",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,previewImg:e.column.previewImg||!0,fileSize:e.column.fileSize||1e3,fileType:e.column.fileType||"all",limit:e.column.limit||100},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{staticStyle:{width:"70%",display:"inline"},attrs:{type:"hidden"},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,"string"==typeof t?t.trim():t)},expression:"options.childObject[column.value]"}}),e._v(" "),o("upload",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,previewImg:e.column.previewImg||!0,fileSize:e.column.fileSize||100,fileType:e.column.fileType||"all",limit:e.column.limit||100},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"search"==e.labelType?void 0:e._e()],2)},staticRenderFns:[]},Y=o("C7Lr")(X,K,!1,null,null,null).exports,Q={name:"baseDict",props:{column:{type:Object,default:function(){}},row:{type:Object,default:function(){}}},data:function(){return{}},created:function(){this.column.dict.dictData&&this.column.dict.dictData.length>0||this.getDictType(this.column.dict)},methods:{getDictType:function(e){var t=this,o=arguments;Object(a.j)(e.method)?this.$store.dispatch("dict_getDictListByType",e.dictType).then(function(){if(e.dictData=t.$store.state.dict.dictListType,o.length>1)for(var l=1;l<o.length;l++)o[l].dictData=e.dictData}):this.$store.dispatch(e.method,e.params).then(function(o){o&&"200"==o.code?e.dictData=o.data.rows:t.$message({message:o.message||"字典获取失败",showClose:!0,type:"error",duration:3e3})})}}},Z={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",[e.column.dict.tags&&e.column.dict.tags.length>0?[o("el-tag",{key:e.index,attrs:{type:e.getDictLabel(e.row[e.column.prop],e.column.dict.tags).label}},[e._v("\n      "+e._s(e.getDictLabel(e.row[e.column.prop],e.column.dict.dictData).label)+"\n    ")])]:[o("span",[e._v(e._s(e.getDictLabel(e.row[e.column.prop],e.column.dict.dictData).label))])]],2)},staticRenderFns:[]},G=o("C7Lr")(Q,Z,!1,null,null,null).exports,J={name:"baseInput",props:{column:{type:Object,default:function(){}},options:{type:Object,default:function(){}},labelType:{type:String,default:"form"}},data:function(){return{}},created:function(){}},ee={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",["form"==e.labelType?[e.column.disHid?e._e():o("el-col",{attrs:{span:e.column.columnOffset&&e.column.columnOffset.col?e.column.columnOffset.col:12,offset:e.column.columnOffset&&e.column.columnOffset.offset?e.column.columnOffset.offset:0}},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{staticStyle:{width:"100%"},attrs:{disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,"show-password":0!=e.column.showPassword,type:"password",clearable:""},model:{value:e.options.formObject[e.column.value],callback:function(t){e.$set(e.options.formObject,e.column.value,t)},expression:"options.formObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e(),e._v(" "),"child"==e.labelType?[e.column.disHid?e._e():o("div",{staticClass:"dialog_form_item"},[o("el-form-item",{attrs:{label:e.column.label+(e.column.labelUnit||"")+":",rules:e.column.rule?e.column.rule:[],prop:e.column.value}},[o("el-input",{style:e.column.style||"width:100%;",attrs:{disabled:e.column.disabled,placeholder:e.column.placeholder||"请输入"+e.column.label,"show-password":0!=e.column.showPassword,type:"password",clearable:""},model:{value:e.options.childObject[e.column.value],callback:function(t){e.$set(e.options.childObject,e.column.value,t)},expression:"options.childObject[column.value]"}}),e._v(" "),e.column.tooltipContent?o("span",{staticStyle:{"margin-left":"12px",color:"#bbb3b3",position:"absolute",right:"-17px",top:"0"}},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.column.tooltipContent,placement:"right-start"}},[o("i",{staticClass:"icon-question-sign"})])],1):e._e()],1)],1)]:e._e()],2)},staticRenderFns:[]},te=o("C7Lr")(J,ee,!1,null,null,null).exports;o.d(t,"f",function(){return n}),o.d(t,"j",function(){return r}),o.d(t,"a",function(){return m}),o.d(t,"k",function(){return h}),o.d(t,"g",function(){return v}),o.d(t,"h",function(){return w}),o.d(t,"l",function(){return x}),o.d(t,"b",function(){return D}),o.d(t,"c",function(){return I}),o.d(t,"d",function(){return N}),o.d(t,"e",function(){return E}),o.d(t,"m",function(){return F}),o.d(t,"n",function(){return R}),o.d(t,"o",function(){return W}),o.d(t,"p",function(){return Y}),o.d(t,!1,function(){return G}),o.d(t,"i",function(){return te})},"6MWA":function(e,t,o){"use strict";var l={props:{src:{type:String},alt:{type:String,default:""},value:{type:Boolean,default:!1}},data:function(){return{rotate:0,width:"auto",height:"auto",winHeight:0,winWidth:0,initWidth:"auto",initHeight:"auto",percent:-1,showTip:!1,top:0,left:0,reset:!1,pageX:-1,pageY:-1,fadeIn:!1,isMove:!1}},computed:{imageStyle:function(){return{width:"auto"===this.width?"auto":this.width+"px",height:"auto"===this.height?"auto":this.height+"px",transform:"rotate("+this.rotate+"deg)",top:this.top+"px",left:this.left+"px"}}},watch:{value:function(){var e=this;setTimeout(function(){e.fadeIn=e.value},100)}},mounted:function(){var e=this;this.resize=function(){e.resetImage()},this.addHandler(window,"resize",this.resize)},destroyed:function(){this.removeHandler(window,"resize",this.resize),this.removeHandler(document,"mousedown",this.mousedown),this.removeHandler(document,"mouseup",this.mouseup)},methods:{calposition:function(e){var t=this.width,o=this.height;this.width=this.initWidth*this.percent,this.height=this.initHeight*this.percent,e?(this.top=(this.winHeight-this.height)/2,this.left=(this.winWidth-this.width)/2):(this.top-=(this.height-o)/2,this.left-=(this.width-t)/2),this.Tip()},Tip:function(){var e=this;this.showTip=!0,setTimeout(function(){e.showTip=!1},1e3)},oneToOne:function(){this.percent=1,this.calposition()},imageLoaded:function(){var e=document.createElement("img");e.src=this.src,this.width=this.initWidth=e.width,this.height=this.initHeight=e.height,this.resetImage()},removeHandler:function(e,t,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent?e.detachEvent("on"+t,o):e["on"+t]=null},addHandler:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},bindDrag:function(){var e=this;this.mousedown=function(t){e.pageX=t.pageX,e.pageY=t.pageY,e.isMove=!0,t.preventDefault(),((window.event||t).srcElement||t.target)===e.$refs.targetImage&&e.addHandler(document,"mousemove",e.mousemove)},this.mouseup=function(){e.isMove=!1,e.removeHandler(document,"mousemove",e.mousemove)},this.mousemove=function(t){var o=t,l=e.pageX,i=e.pageY;if(-1!==l&&-1!==i){var n=o.pageX-e.pageX,a=o.pageY-e.pageY;e.left+=n,e.top+=a}e.pageX=o.pageX,e.pageY=o.pageY},this.addHandler(document,"mousedown",this.mousedown),this.addHandler(document,"mouseup",this.mouseup)},getWindowSize:function(){var e=void 0,t=void 0;window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth),this.winHeight=t,this.winWidth=e},bgClick:function(){this.$emit("input",!1),this.resetImage()},zoomIn:function(){this.zoomTo(.1)},zoomOut:function(){this.zoomTo(-.1)},zoomTo:function(e){e=(e=Number(e))<0?1/(1-e):1+e;var t=this.width*e/this.initWidth;t=Math.max(0,t),(t=Math.min(Math.max(t,.01),100))>.95&&t<1.05&&(t=1),this.percent=t,this.calposition()},RotateLeft:function(){this.rotate=this.rotate-90},RotateRight:function(){this.rotate=this.rotate+90},resetImage:function(){this.getWindowSize();var e=this.winHeight-100,t=this.winWidth-100,o=1,l=1;this.initHeight>e&&(o=e/this.initHeight),this.initWidth>t&&(l=t/this.initWidth),this.percent=Math.min(o,l),this.percent=Math.max(this.percent,.1),this.rotate=0,this.calposition(!0)}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}]},[o("div",{staticClass:"viewer-bg",class:{"fade-in":e.fadeIn},on:{click:function(t){return t.stopPropagation(),e.bgClick(t)}}}),e._v(" "),o("img",{ref:"targetImage",staticClass:"target-image",class:{"fade-in":e.fadeIn,"image-transition":!e.isMove},style:e.imageStyle,attrs:{src:e.src,alt:""},on:{load:e.imageLoaded}}),e._v(" "),o("div",{staticClass:"viewer-toolbar"},[o("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.zoomIn(t)}}},[o("i",{staticClass:"zoom-in"})]),e._v(" "),o("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.zoomOut(t)}}},[o("i",{staticClass:"zoom-out"})]),e._v(" "),o("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.oneToOne(t)}}},[o("i",{staticClass:"one-to-one"})]),e._v(" "),o("span",{staticClass:"icon"},[o("i",{staticClass:"reset",on:{click:function(t){return t.stopPropagation(),e.resetImage(t)}}})]),e._v(" "),o("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.RotateLeft(t)}}},[o("i",{staticClass:"rotate-left"})]),e._v(" "),o("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.RotateRight(t)}}},[o("i",{staticClass:"rotate-right"})])]),e._v(" "),o("div",{staticClass:"viewer-tooltip",class:{"tip-show":e.showTip}},[e._v("\n    "+e._s(parseInt(100*this.percent))+"%\n  ")])])},staticRenderFns:[]};var n=o("C7Lr")(l,i,!1,function(e){o("rCm1")},"data-v-02ad37d4",null).exports;t.a=n},"6U9u":function(e,t){},ANQr:function(e,t,o){"use strict";var l={name:"baseButton",props:{row:{type:Object,default:function(){}},index:{type:Number,default:0},type:{type:String,default:"primary"},content:{type:String,default:"编辑"},icon:{type:String,default:"el-icon-edit"},size:{type:String,default:"small"},dropdown:{type:Array,default:function(){return[]}}},computed:{buttonType:function(){var e=this.$store.state.navbar.styleName.buttonStyle;return e&&"button-text"==e?"text":this.type}},data:function(){return{}},created:function(){},methods:{buttonEvent:function(){this.$emit("buttonEvent")}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",[e.dropdown.length>0?[o("el-dropdown",{attrs:{trigger:"click"}},[o("el-button",{attrs:{type:e.buttonType||e.type,size:e.size}},[e._v("\n        "+e._s(e.content)),o("i",{class:e.icon||"el-icon-arrow-down el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.dropdown,function(t,l){return[t.disHid?e._e():o("el-dropdown-item",{key:l,nativeOn:{click:function(e){return t.callback(e)}}},[e._v(e._s(t.content))])]})],2)],1)]:[o("el-button",{class:{textStyle:"text"===e.buttonType},attrs:{type:e.buttonType||e.type,icon:e.icon,size:e.size},on:{click:e.buttonEvent}},[e._v(e._s(e.content)+"\n    ")])]],2)},staticRenderFns:[]};var n=o("C7Lr")(l,i,!1,function(e){o("Af/N")},null,null);t.a=n.exports},"Af/N":function(e,t){},BD2p:function(e,t,o){"use strict";var l=o("3cXf"),i=o.n(l),n=o("6MWA"),a=o("TIfe"),s=o("LUZf"),c=o("oAV5"),r={name:"SingleImageUpload",props:{value:{type:String,default:""},limit:{type:Number,default:1},multiple:{type:Boolean,default:!1},type:{type:String,default:"primary"},listType:{type:String,default:"text"},showList:{type:Boolean,default:!0},previewImg:{type:Boolean,default:!0},fileType:{type:String,default:"img"},fileSize:{type:Number,default:100},icon:{type:String,default:"el-icon-upload2"},title:{type:String,default:"上传"},disabled:{type:Boolean,default:!1},isRename:{type:Boolean,default:!0},method:{type:String,default:"/sys/fileUpload"}},components:{Viewer:n.a},data:function(){return{loading:!1,action:"",dataParmars:{isRename:this.isRename?"0":"1"},uploadheaders:{Authorization:Object(a.a)(s.a.token),UserId:Object(a.a)(s.a.userId)},images:[],imgurl:"",imgVisible:!1}},computed:{fileList:function(){var e=this.value,t=[],o=[];e&&(t=e.split(","));for(var l=0;l<t.length;l++){var i=t[l].lastIndexOf("/")+1,n=t[l].substring(i,t[l].length),a="";a=t[l].indexOf("mcws")>=0?t[l]:t[l].indexOf("http")>=0?t[l]:t[l].indexOf("static")>=0?t[l]:"mcws"+t[l],o.push({name:n,url:a})}return o}},created:function(){this.action="mcws"+this.method},methods:{closeImages:function(){this.imgVisible=!1,this.images.splice(0)},handlePreview:function(e){var t=e.url;t.indexOf("mcws")>=0&&(t=t.split("mcws")[1]);var o=t.substring(t.lastIndexOf(".")+1).toLowerCase();if(t=encodeURIComponent(t),"jpg"==o||"png"==o||"bmp"==o||"gif"==o||"jpeg"==o){this.imgVisible=!0;var l=t.indexOf("http"),i=t.indexOf("static");this.imgurl=l>=0||i>=0?decodeURIComponent(t):"mcws/sys/fileUpload/downloadFile?path="+t,this.images.push(this.imgurl)}else if("pdf"==o){var n={path:t};this.$store.dispatch("navbar_showPdf",n).then(function(e){var t="/static/pdfjs-2.0.943-dist/web/viewer.html?file="+encodeURIComponent(e.data.path);window.open(t,"_blank")})}else window.open("mcws/sys/fileUpload/downloadFile?path="+t,"_blank")},beforeAvatarUploadImg:function(e){if(e.name.indexOf(",")>=0)return this.$message({message:"文件名称不能包含‘,’符合",showClose:!0,type:"warning",duration:3e3}),!1;var t=e.name.lastIndexOf(".")+1,o=e.name.substring(t,e.name.length),l="gif"===o.toLocaleLowerCase(),i="jpg"===o.toLocaleLowerCase(),n="png"===o.toLocaleLowerCase(),a="bmp"===o.toLocaleLowerCase(),s=e.size/1024/1024<this.fileSize;return l||i||n||a?(s||this.$message({message:"上传图片大小不能超过 "+this.fileSize+" MB!",showClose:!0,type:"warning",duration:3e3}),(l||i||n||a)&&s):(this.$message({message:"上传图片只能是 gif、jpg、png、bmp格式!",showClose:!0,type:"warning",duration:3e3}),!1)},beforeAvatarUploadRar:function(e){if(e.name.indexOf(",")>=0)return this.$message({message:"文件名称不能包含‘,’符合",showClose:!0,type:"warning",duration:3e3}),!1;var t=e.name.lastIndexOf(".")+1,o=e.name.substring(t,e.name.length),l="rar"===o.toLocaleLowerCase(),i="xls"===o.toLocaleLowerCase(),n="csv"===o.toLocaleLowerCase(),a="xlsx"===o.toLocaleLowerCase(),s=e.size/1024/1024<this.fileSize;return l||i||n||a?(s||this.$message({message:"文件大小不能超过 "+this.fileSize+" MB!",showClose:!0,type:"warning",duration:3e3}),(l||i||n||a)&&s):(this.$message({message:"文件只能是 rar、xls、csv、xlsx 格式!",showClose:!0,type:"warning",duration:3e3}),!1)},beforeAvatarUploadXls:function(e){if(e.name.indexOf(",")>=0)return this.$message({message:"文件名称不能包含‘,’符合",showClose:!0,type:"warning",duration:3e3}),!1;var t=e.name.lastIndexOf(".")+1,o=e.name.substring(t,e.name.length),l="xls"===o.toLocaleLowerCase(),i="xlsx"===o.toLocaleLowerCase(),n=e.size/1024/1024<this.fileSize;return l||i?(n||this.$message({message:"文件大小不能超过 "+this.fileSize+" MB!",showClose:!0,type:"warning",duration:3e3}),(l||i)&&n):(this.$message({message:"文件只能是 xls、xlsx 格式!",showClose:!0,type:"warning",duration:3e3}),!1)},beforeAvatarUploadApk:function(e){if(e.name.indexOf(",")>=0)return this.$message({message:"文件名称不能包含‘,’符合",showClose:!0,type:"warning",duration:3e3}),!1;var t=e.name.lastIndexOf(".")+1,o="apk"===e.name.substring(t,e.name.length).toLocaleLowerCase(),l=e.size/1024/1024<this.fileSize;return o?(l||this.$message({message:"上传文件大小不能超过 "+this.fileSize+" MB!",showClose:!0,type:"warning",duration:3e3}),o&&l):(this.$message({message:"上传文件只能是 apk格式!",showClose:!0,type:"warning",duration:3e3}),!1)},beforeAvatarUploadFiles:function(e){if(e.name.indexOf(",")>=0)return this.$message({message:"文件名称不能包含‘,’符合",showClose:!0,type:"warning",duration:3e3}),!1;var t=e.name.lastIndexOf(".")+1,o=e.name.substring(t,e.name.length),l="gif"===o.toLocaleLowerCase(),i="jpg"===o.toLocaleLowerCase(),n="png"===o.toLocaleLowerCase(),a="bmp"===o.toLocaleLowerCase(),s="pdf"===o.toLocaleLowerCase(),c=e.size/1024/1024<this.fileSize;return l||i||n||a||s?(c||this.$message({message:"上传图片大小不能超过 "+this.fileSize+" MB!",showClose:!0,type:"warning",duration:3e3}),(l||i||n||a||s)&&c):(this.$message({message:"上传图片只能是 gif、jpg、png、bmp、pdf格式!",showClose:!0,type:"warning",duration:3e3}),!1)},beforeAvatarUploadAll:function(e){return e.name.indexOf(",")>=0?(this.$message({message:"文件名称不能包含‘,’符合",showClose:!0,type:"warning",duration:3e3}),!1):!!(e.size/1024/1024<this.fileSize)||(this.$message({message:"上传文件大小不能超过 "+this.fileSize+" MB!",showClose:!0,type:"warning",duration:3e3}),!1)},beforeAvatarUpload:function(e){return"img"===this.fileType?this.beforeAvatarUploadImg(e):"rar"===this.fileType?this.beforeAvatarUploadRar(e):"apk"===this.fileType?this.beforeAvatarUploadApk(e):"files"===this.fileType?this.beforeAvatarUploadFiles(e):"all"===this.fileType?this.beforeAvatarUploadAll(e):"xls"===this.fileType?this.beforeAvatarUploadXls(e):void(this.loading=!0)},handleSuccess:function(e,t,o){if(this.loading=!1,"批量导入"==this.title)this.$message({message:e.message,type:"warning",dangerouslyUseHTMLString:!0,showClose:!0});else{if("200"!=e.code)return void this.$message({message:e.message,type:"error",showClose:!0});var l="";l=this.value?this.value+","+e.data.path:e.data.path,this.emitInput(l)}},handError:function(e,t,o){this.loading=!1,"413"==e.status?this.$message({message:"文件上传失败：请求实体过大,请联系管理员",type:"error",showClose:!0}):this.$message({message:"文件上传失败："+i()(e),type:"error",showClose:!0}),console.log("文件上传失败："+i()(e))},handleRemove:function(e,t){this.loading=!1;var o=this.arrayToString(t,"url");this.emitInput(o)},handleExceed:function(e,t){this.$message.warning("只能上传 "+this.limit+" 个文件")},emitInput:function(e){this.$emit("input",e)},download_files:function(e){if(""!=e){var t=e.split(",");if(t.length>0)for(var o=0;o<t.length;o++){t[o]=encodeURIComponent(t[o]);var l="mcws/sys/fileUpload/downloadFile?path="+t[o];Object(c.e)(l)}else e=encodeURIComponent(e),window.open("mcws/sys/fileUpload/downloadFile?path="+e,"_self")}else this.$message({message:"没有附件可以下载",type:"warning"})}}},u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-container"},[o("el-upload",{staticClass:"upload-demo",attrs:{action:e.action,data:e.dataParmars,disabled:e.disabled,headers:e.uploadheaders,"before-upload":e.beforeAvatarUpload,"on-preview":e.handlePreview,"on-success":e.handleSuccess,"on-error":e.handError,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,multiple:e.multiple,limit:e.limit,"show-file-list":e.showList,"file-list":e.fileList,"list-type":e.listType}},["picture-card"===e.listType?[o("i",{staticClass:"el-icon-plus"})]:[o("el-button",{staticClass:"upload-button",attrs:{size:"small",disabled:e.disabled,loading:e.loading,icon:e.icon,type:e.type}},[e._v(e._s(e.title))])]],2),e._v(" "),e.value&&"picture-card"!=e.listType?o("el-button",{staticClass:"upload-button",staticStyle:{left:"110px",position:"absolute",top:"0"},attrs:{size:"small",icon:"el-icon-download",type:"warning"},on:{click:function(t){return e.download_files(e.value)}}},[e._v("下载")]):e._e(),e._v(" "),[o("viewer",{attrs:{src:e.imgurl},model:{value:e.imgVisible,callback:function(t){e.imgVisible=t},expression:"imgVisible"}})]],2)},staticRenderFns:[]};var d=o("C7Lr")(r,u,!1,function(e){o("y29j")},null,null);t.a=d.exports},D10G:function(e,t){},IHur:function(e,t,o){var l=o("A2+p"),i=o("H5bT");o("Y2FG")("keys",function(){return function(e){return i(l(e))}})},VvXS:function(e,t){},Y2FG:function(e,t,o){var l=o("2AZ7"),i=o("/KQr"),n=o("D86D");e.exports=function(e,t){var o=(i.Object||{})[e]||Object[e],a={};a[e]=t(o),l(l.S+l.F*n(function(){o(1)}),"Object",a)}},"YX/w":function(e,t){},ZJrz:function(e,t){},ZLEe:function(e,t,o){e.exports={default:o("m5p0"),__esModule:!0}},"c/w/":function(e,t,o){"use strict";var l=o("oAV5"),i={data:function(){return{officeDialog:!1,filterText:"",treeObject:{name:"",id:"",node:"",nodes:[]}}},props:{value:{type:String,default:""},name:{type:String,default:""},title:{type:String,default:"请选择"},modal:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1},isButton:{type:Boolean,default:!1},buttonTitle:{type:String,default:"新增"},isFilter:{type:Boolean,default:!1},filterProperty:{type:String,default:"areaId"},filterMessage:{type:String,default:"只能选择用户"},defaultProps:{type:Object,default:function(){return{id:"id",children:"children",label:"name"}}},disabled:{type:Boolean,default:!1},treeData:{type:Array,required:!0},placeholder:{type:String,default:"请选择"}},created:function(){this.treeObject.name=this.name,this.treeObject.id=this.value,this.$refs.tree&&this.$refs.tree.setCurrentKey(this.value)},updated:function(){this.treeObject.name=this.name,this.treeObject.id=this.value},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:{expandedKeys:function(){return this.value?Object(l.i)(this.value,this.treeData,this.defaultProps):void 0===this.treeData[0]?[]:[this.treeData[0].id]},checkedKeys:function(){return this.value?this.value.split(","):[]},nodeKey:function(){return this.defaultProps.id},label:function(){return this.defaultProps.label}},methods:{toggleDialog:function(){this.disabled||(this.filterText="",this.officeDialog=!this.officeDialog)},handleClose:function(e){this.cancel()},submit:function(){var e=this.nodeKey,t=this.label;if(this.showCheckbox){var o=this.$refs.tree.getCheckedNodes();this.treeObject.id=this.arrayToString(o,e),this.treeObject.name=this.arrayToString(o,t),this.treeObject.nodes=o;var l=this.filterProperty;if(this.isFilter&&o)for(var i=0;i<o.length;i++)_.isEmpty(o[i].areaId)||o.splice(i,1);this.emitInput(),this.toggleDialog()}else{var n=this.$refs.tree.getCurrentNode();n?(this.treeObject.id=n[e],this.treeObject.name=n[t],this.treeObject.node=n,this.treeObj=n):(this.treeObject.id="",this.treeObject.name="",this.treeObject.node="");l=this.filterProperty;this.isFilter&&n&&n[l]?this.$message({message:this.filterMessage,showClose:!0,type:"warning",duration:2e3}):(this.emitInput(),this.toggleDialog())}},reset:function(){this.showCheckbox?this.$refs.tree.setCheckedKeys([]):this.$refs.tree.setCurrentNode({}),this.treeObject={name:"",id:"",node:"",nodes:[]}},cancel:function(){this.treeObject.id=this.value,this.showCheckbox?this.$refs.tree.setCheckedKeys(this.checkedKeys):(this.treeObject.id||this.$refs.tree.setCurrentNode({}),this.$refs.tree&&this.$refs.tree.setCurrentKey(this.value)),this.toggleDialog()},filterNode:function(e,t){return!e||-1!==t[this.label].indexOf(e)},getCurrentData:function(e,t){var o=this.nodeKey;this.treeObject.id=e[o]},emitInput:function(){this.$emit("input",this.treeObject.id),this.showCheckbox?this.$emit("getTreeCheckName",this.treeObject.nodes):this.$emit("getTreeCheckName",this.treeObject.node)},messageSubstring:l.n}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"tree-continer"},[e.isButton?[o("el-button",{attrs:{type:"text",icon:"el-icon-plus",size:"small"},on:{click:e.toggleDialog}},[e._v(e._s(e.buttonTitle))])]:[o("span",{on:{click:e.toggleDialog}},[o("el-input",{attrs:{value:e.treeObject.name,placeholder:e.placeholder,"suffix-icon":"el-icon-search",disabled:""}})],1)],e._v(" "),o("el-dialog",{staticClass:"tree-continer-dialog",attrs:{title:e.isButton?"请"+e.title:e.title,modal:e.modal,visible:e.officeDialog,width:"30%",top:"10vh","before-close":e.handleClose},on:{"update:visible":function(t){e.officeDialog=t}}},[o("el-input",{staticClass:"tree-continer-input",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),o("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.treeData,props:e.defaultProps,"highlight-current":!0,"expand-on-click-node":!1,"check-on-click-node":"","show-checkbox":e.showCheckbox,"node-key":e.nodeKey,"current-node-key":e.value,"default-checked-keys":e.checkedKeys,"default-expanded-keys":e.expandedKeys,"filter-node-method":e.filterNode},on:{"current-change":e.getCurrentData},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.node;return t.data,o("span",{staticClass:"custom-tree-node",staticStyle:{width:"100%"}},[o("span",{attrs:{title:l.label}},[e._v(e._s(e.messageSubstring(l.label,36)))])])}}])}),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.submit()}}},[e._v("确 定")]),e._v(" "),o("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.reset()}}},[e._v("重 置")]),e._v(" "),o("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(t){return e.cancel()}}},[e._v("取 消")])],1)],1)],2)},staticRenderFns:[]};var a=o("C7Lr")(i,n,!1,function(e){o("VvXS")},null,null);t.a=a.exports},cXf9:function(e,t,o){"use strict";var l=o("ANQr"),i=o("0qgA"),n=o("gnUw"),a=o("c/w/"),s=o("BD2p"),c=o("aA9S"),r=o.n(c),u=o("TIfe"),d=o("LUZf"),m=o("oAV5"),p=o("35Vf"),f={components:{quickTable:i.a,quickForm:k,quickdialog:p.a,baseButton:l.a,tree:a.a,upload:s.a},props:{dataList:{type:Array,default:function(){return[]}},type:{type:String,default:""},dispatchDate:{type:String,default:""},billId:{type:String,default:""}},data:function(){var e=this;return{dialogOption:{title:"确认",childObject:{impleofficeName:"",confirmDate:""},index:0,disabled:!1,childArray:[{label:"实施部门",value:"impleofficeName",type:"input",disabled:!0},{label:"部门主管",value:"userName",type:"input",disabled:!0},{label:"实施人员",value:"impleuserId",name:"impleuserName",type:"tree",disabled:!1,rule:[{required:!0,message:"实施人员不能为空",trigger:"change"}],tree:{isMultiple:!0,filter:{isFilter:!0,filterProperty:"",filterMessage:""},treeMethod:"office_getOfficeUserTree",treeObject:{isUser:!0,isOffice:!0},treeData:[]}},{label:"确认状态",value:"status",type:"select",disabled:!0,dict:{dictType:"",dictData:[{label:"未确认",value:"0"},{label:"已确认",value:"1"}],tags:[{label:"danger",value:"0"},{label:"success",value:"1"}]}},{label:"确认日期",value:"confirmDate",type:"date",pickerOptions:{identifier:"NowAndBefore"},rule:[{required:!0,message:"确认日期不能为空",trigger:"change"},{required:!0,validator:function(t,o,l){(new Date(o)-new Date(e.dispatchDate))/864e5<0?l(new Error("确认日期应大于等于派工日期")):l()},trigger:"change"}],disabled:!1},{label:"工作附件",value:"filePath",type:"upload",disHid:!0,disabled:!1},{label:"工作附件",value:"filePath",type:"upload",disabled:!1}]},option:{formId:"",readOnly:!1,isPage:!1,apiName:"bill",tableList:this.dataList,hasPermission:{edit:{isShow:!1,isPermission:!0},del:{isShow:!1,isPermission:!0}},columns:[{label:"实施部门",prop:"impleofficeName"},{label:"部门主管",prop:"userName"},{label:"实施人员",prop:"impleuserName"},{label:"确认状态",prop:"status",dict:{dictType:"",dictData:[{label:"未确认",value:"0"},{label:"已确认",value:"1"}],tags:[{label:"danger",value:"0"},{label:"success",value:"1"}]}},{label:"确认日期",formatDate:"yyyy-MM-dd",prop:"confirmDate"},{label:"工作附件",prop:"filePath",isFiles:!0}]}}},computed:{userId:function(){return Object(u.a)(d.a.userId)}},created:function(){},methods:{openConfirm:function(e,t){this.dialogOption.childObject=r()({},_.cloneDeep(e),{confirmDate:Object(m.g)(new Date,"yyyy-MM-dd")}),this.dialogOption.disabled=!1,this.dialogOption.index=t,this.dialogOption.childArray[2].disabled=!1,this.dialogOption.childArray[4].disabled=!1,this.dialogOption.childArray[5].disabled=!1,this.$refs.quickdialog.toggle_dialog()},lookConfirm:function(e,t){this.dialogOption.childObject=_.cloneDeep(e),this.dialogOption.disabled=!0,this.dialogOption.index=t,this.dialogOption.childArray[2].disabled=!0,this.dialogOption.childArray[4].disabled=!0,this.dialogOption.childArray[5].disabled=!0,this.$refs.quickdialog.toggle_dialog()},confirm:function(e){var t=this,o=r()({},this.dialogOption.childObject,{manageId:this.billId,status:"1"});this.$store.dispatch("bill_confirm",o).then(function(e){e&&"200"==e.code?(t.$message({message:"确认成功",showClose:!0,type:"success",duration:3e3}),t.$set(t.dataList,t.dialogOption.index,o),t.$emit("getHandList",e.data.handResultList),t.$refs.quickdialog.toggle_dialog()):t.$message({message:e.message||"获取失败",showClose:!0,type:"error",duration:3e3})})}}},h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"form_title",staticStyle:{width:"100%"}},[e._v("实施部门列表")]),e._v(" "),o("quick-table",{ref:"quickTable",attrs:{option:e.option},scopedSlots:e._u([{key:"menuTop",fn:function(t){var l=t.row,i=t.index;return[l.userId==e.userId&&"0"==l.status&&"confirm"==e.type?o("base-button",{attrs:{type:"warning",icon:"el-icon-check",size:"mini",content:"确认"},on:{buttonEvent:function(t){return e.openConfirm(l,i)}}}):o("base-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini",content:"查看"},on:{buttonEvent:function(t){return e.lookConfirm(l,i)}}})]}}])}),e._v(" "),o("quickdialog",{ref:"quickdialog",attrs:{option:e.dialogOption},on:{submit:function(t){return e.confirm()}}})],1)},staticRenderFns:[]},b=o("C7Lr")(f,h,!1,null,null,null).exports,g={components:{quickTable:i.a,quickForm:k,quickdialog:p.a,baseButton:l.a,tree:a.a,upload:s.a},props:{dataList:{type:Array,default:function(){return[]}},type:{type:String,default:""},dispatchDate:{type:String,default:""},billId:{type:String,default:""}},data:function(){var e=this;return{dialogOption:{title:"处理",childObject:{impleofficeName:"",handDate:""},index:0,disabled:!1,childArray:[{label:"处理部门",value:"officeName",type:"input",disabled:!0},{label:"处理人",value:"userName",type:"input",disabled:!0},{label:"处理状态",value:"status",type:"select",disabled:!0,dict:{dictType:"",dictData:[{label:"未处理",value:"0"},{label:"已处理",value:"1"}],tags:[{label:"danger",value:"0"},{label:"success",value:"1"}]}},{label:"处理日期",value:"handDate",type:"date",pickerOptions:{identifier:"NowAndBefore"},rule:[{required:!0,message:"处理日期不能为空",trigger:"change"},{required:!0,validator:function(t,o,l){(new Date(o)-new Date(e.dispatchDate))/864e5<0?l(new Error("处理日期应大于等于派工日期")):l()},trigger:"change"}],disabled:!1},{label:"处理结果",value:"handResult",type:"textarea",disabled:!1,rule:[{required:!0,message:"处理结果不能为空",trigger:"change"},{required:!0,min:0,max:500,message:"处理结果最大长度500",trigger:"blur"}]},{label:"处理结果",value:"handResult",type:"textarea",disHid:!0,disabled:!1},{label:"工作附件",value:"filePath",type:"upload",disabled:!1}]},option:{formId:"",readOnly:!1,isPage:!1,apiName:"bill",tableList:this.dataList,hasPermission:{edit:{isShow:!1,isPermission:!0},del:{isShow:!1,isPermission:!0}},columns:[{label:"处理部门",prop:"officeName"},{label:"处理人",prop:"userName"},{label:"处理状态",prop:"status",dict:{dictType:"",dictData:[{label:"未处理",value:"0"},{label:"已处理",value:"1"}],tags:[{label:"danger",value:"0"},{label:"success",value:"1"}]}},{label:"处理日期",formatDate:"yyyy-MM-dd",prop:"handDate"},{label:"处理结果",prop:"handResult"},{label:"工作附件",prop:"filePath",isFiles:!0}]}}},computed:{userId:function(){return Object(u.a)(d.a.userId)}},created:function(){console.log(1233213)},methods:{openConfirm:function(e,t){this.dialogOption.childObject=r()({},_.cloneDeep(e),{handDate:Object(m.g)(new Date,"yyyy-MM-dd")}),this.dialogOption.disabled=!1,this.dialogOption.index=t,this.dialogOption.childArray[3].disabled=!1,this.dialogOption.childArray[4].disabled=!1,this.dialogOption.childArray[6].disabled=!1,this.$refs.quickdialog.toggle_dialog()},lookConfirm:function(e,t){this.dialogOption.childObject=_.cloneDeep(e),this.dialogOption.disabled=!0,this.dialogOption.index=t,this.dialogOption.childArray[3].disabled=!0,this.dialogOption.childArray[4].disabled=!0,this.dialogOption.childArray[6].disabled=!0,this.$refs.quickdialog.toggle_dialog()},confirm:function(e){var t=this,o=r()({},this.dialogOption.childObject,{status:"1"});this.$store.dispatch("bill_hander",o).then(function(e){e&&"200"==e.code?(t.$message({message:"处理成功",showClose:!0,type:"success",duration:3e3}),t.$set(t.dataList,t.dialogOption.index,o),t.$refs.quickdialog.toggle_dialog()):t.$message({message:e.message||"获取失败",showClose:!0,type:"error",duration:3e3})})}}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"form_title",staticStyle:{width:"100%"}},[e._v("处理结果列表")]),e._v(" "),o("quick-table",{ref:"quickTable",attrs:{option:e.option},scopedSlots:e._u([{key:"menuTop",fn:function(t){var l=t.row,i=t.index;return[l.userId==e.userId&&"0"==l.status&&"process"==e.type?o("base-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini",content:"处理"},on:{buttonEvent:function(t){return e.openConfirm(l,i)}}}):o("base-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini",content:"查看"},on:{buttonEvent:function(t){return e.lookConfirm(l,i)}}})]}}])}),e._v(" "),o("quickdialog",{ref:"quickdialog",attrs:{option:e.dialogOption},on:{submit:function(t){return e.confirm()}}})],1)},staticRenderFns:[]},y=o("C7Lr")(g,v,!1,null,null,null).exports,O=(o("w3CS"),{components:{quickForm:n.a,formconfirm:b,formhand:y,baseButton:l.a,tree:a.a,upload:s.a},props:{formId:{type:String,default:""},status:{type:String,default:"0"},readOnly:{type:Boolean,default:!1},isConfirm:{type:Boolean,default:!1},type:{type:String,default:""}},data:function(){var e=this;return{option:{name:"工单",apiName:"bill",initObject:{id:this.formId},hasPermission:{save:{isShow:!this.readOnly&&!this.isConfirm,isPermission:!0},back:{isShow:!0,isPermission:!0}},callback:{},columns:[{label:"工作单号",value:"billCode",type:"input",disabled:!0,placeholder:"保存时自动生成",rule:[{required:!1,message:"工作单号不能为空",trigger:"change"}]},{label:"单位名称",value:"unitId",name:"unitName",type:"tree",disabled:"my"!=this.type,rule:[{required:!0,message:"单位名称不能为空",trigger:"change"}],callback:function(t,o,l){e.$set(l.formObject,o.name,t.name),e.$set(l.formObject,o.value,t.id),e.$set(l.formObject,"contactId",t.contactId),e.$set(l.formObject,"tel",t.tel),e.$set(l.formObject,"mobile",t.mobile)},tree:{treeMethod:"access_getCompanyTree",treeObject:{},treeData:[]}},{label:"联系人",value:"contactId",type:"input",placeholder:"自动带出",disabled:!0},{label:"联系电话",value:"tel",type:"input",placeholder:"自动带出",disabled:!0},{label:"手机",value:"mobile",type:"input",placeholder:"自动带出",disabled:!0},{label:"派工日期",value:"dispatchDate",type:"input",disabled:!0,rule:[{required:!0,message:"派工日期不能为空",trigger:"change"}]},{label:"派工人员",value:"userName",placeholder:"自动带出",type:"input",disabled:!0,rule:[{required:!0,message:"派工人员不能为空",trigger:"change"}]},{label:"派工部门",value:"officeName",placeholder:"自动带出",type:"input",disabled:!0,rule:[{required:!0,message:"派工部门不能为空",trigger:"change"}]},{label:"实施部门",value:"impleofficeId",name:"impleofficeName",type:"tree",disabled:this.readOnly||"my"!=this.type,rule:[{required:!0,message:"实施部门不能为空",trigger:"change"}],callback:function(t,o,l){var i=[];l.formObject.impleOfficeList.splice(0);for(var n=0;n<t.length;n++)t[n].children&&t[n].children.length>0||(i.push(t[n]),l.formObject.impleOfficeList.push({impleofficeId:t[n].id,impleofficeName:t[n].name,userId:t[n].principal,userName:t[n].principalName,impleuserId:"",impleuserName:"",status:"0",confirmDate:"",filePath:""}));e.$set(l.formObject,o.name,e.arrayToString(i,"name")),e.$set(l.formObject,o.value,e.arrayToString(i,"id"))},tree:{isMultiple:!0,treeMethod:"office_getOfficeTree",treeObject:{type:"",extId:""},treeData:[]}},{label:"工单状态",value:"status",placeholder:"自动带出",type:"select",disHid:"0"!=this.status,disabled:!0,dict:{dictType:"bill_status",dictData:[]},rule:[{required:!0,message:"工单状态不能为空",trigger:"change"}]},{label:"工单状态",value:"status",placeholder:"自动带出",type:"select",disHid:!("1"==this.status&&"0"!=this.status),disabled:!0,dict:{dictType:"bill_status",dictData:[]},rule:[{required:!0,message:"工单状态不能为空",trigger:"change"}]},{label:"工单状态",value:"status",placeholder:"自动带出",type:"select",disHid:!("2"==this.status&&"0"!=this.status),disabled:!0,dict:{dictType:"bill_status",dictData:[]},rule:[{required:!0,message:"工单状态不能为空",trigger:"change"}]},{label:"完成时间",value:"completeDate",type:"input",disHid:"2"!=this.status,disabled:!0,rule:[{required:!0,message:"完成时间不能为空",trigger:"change"}]},{label:"工作内容",value:"content",type:"textarea",disabled:this.readOnly||"my"!=this.type,rule:[{required:!0,message:"工作内容不能为空",trigger:"blur"},{min:0,max:250,message:"工作内容最大长度为250位",trigger:"blur"}]},{label:"工作附件",value:"filePath",type:"upload",disabled:this.readOnly||"my"!=this.type}],formObject:{billCode:"",status:"0",impleofficeName:"",userId:Object(u.a)(d.a.userId),userName:Object(u.a)(d.a.realName),officeId:Object(u.a)(d.a.officeId),officeName:Object(u.a)(d.a.officeName),dispatchDate:Object(m.g)(new Date,"yyyy-MM-dd"),handResult:"",impleOfficeList:[],handResultList:[]}}}},computed:{confirmText:function(){return"0"==this.status?"确认":"1"==this.status?"处理":void 0}},created:function(){},methods:{getHandList:function(e){var t=_.concat(this.option.formObject.handResultList,e);this.option.formObject.handResultList.splice(0);for(var o=0;o<t.length;o++)this.option.formObject.handResultList.push(t[o])},getcode:function(){var e=this;this.$store.dispatch("bill_getcode").then(function(t){t&&"200"==t.code?e.option.formObject.billCode=t.data.code:e.$message({message:t.message||"获取失败",showClose:!0,type:"error",duration:3e3})})},goBack:function(){this.$route.params.row?this.$router.go(-1):this.$emit("goBack")}}}),w={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"billform"},[o("quick-form",{ref:"quickform",attrs:{option:e.option},on:{goBack:e.goBack}},[o("template",{slot:"childrenafter"},[e.option.formObject.impleOfficeList&&e.option.formObject.impleOfficeList.length>0?o("formconfirm",{attrs:{dataList:e.option.formObject.impleOfficeList,billId:e.formId,type:e.type,dispatchDate:e.option.formObject.dispatchDate},on:{getHandList:e.getHandList}}):e._e(),e._v(" "),e.option.formObject.handResultList&&e.option.formObject.handResultList.length>0?o("formhand",{attrs:{dataList:e.option.formObject.handResultList,billId:e.formId,type:e.type,dispatchDate:e.option.formObject.dispatchDate}}):e._e()],1)],2)],1)},staticRenderFns:[]},k=o("C7Lr")(O,w,!1,null,null,null).exports,C={name:"commonList",components:{quickTable:i.a,quickForm:k,baseButton:l.a},props:{type:{type:String,default:"my"}},data:function(){var e=this;return{isbillform:"my"==this.type,option:{activeName:"bill",formId:"",status:"0",isExport:"bill"==this.type,exportTitle:"导出",exportFileName:"工单.xls",exportIcon:"el-icon-upload2",exportMethod:"bill_export",readOnly:!1,isConfirm:!1,operWidth:200,name:"工单",apiName:"bill",hasPermission:{edit:{isShow:!1,isPermission:!0},del:{isShow:!1,isPermission:!0}},columns:[{label:"工作单号",prop:"billCode"},{label:"单位名称",prop:"unitName"},{label:"派工人员",prop:"userName"},{label:"派工日期",formatDate:"yyyy-MM-dd",prop:"dispatchDate"},{label:"工单状态",prop:"status",dict:{dictType:"bill_status",dictData:[],tags:[{label:"danger",value:"0"},{label:"warning",value:"1"},{label:"success",value:"2"}]}},{label:"状态",prop:"delFlag",hidden:!("confirmed"==this.type||"processed"==this.type),formatter:function(t,o,l,i){return"confirmed"==e.type?'<span class="el-tag el-tag--success">已确认</span>':(e.type,'<span class="el-tag el-tag--success">已处理</span>')}},{label:"实施部门",prop:"impleofficeName"},{label:"实施人员",prop:"impleuserName"},{label:"完成日期",prop:"completeDate"}],searchObject:{status:"",impleStatus:"",resultStatus:"",impleofficeName:"",impleuserName:"",unitName:"",userName:"",pageNo:1,pageSize:15},searchColums:[{label:"单位名称",value:"unitId",name:"unitName",type:"tree",tree:{treeMethod:"access_getCompanyTree",treeObject:{},treeData:[]}},{label:"派工人员",value:"userId",name:"userName",type:"tree",disHid:"my"==this.type,tree:{filter:{isFilter:!0},treeMethod:"office_getOfficeUserTree",treeObject:{isUser:!0},treeData:[]}},{label:"实施部门",value:"impleofficeId",name:"impleofficeName",type:"tree",disHid:"confirm"==this.type||"confirmed"==this.type||"process"==this.type||"processed"==this.type,tree:{isMultiple:!0,treeMethod:"office_getOfficeTree",treeObject:{type:"",extId:""},treeData:[]}},{label:"实施人员",value:"impleuserId",name:"impleuserName",type:"tree",disHid:"confirm"==this.type||"process"==this.type||"processed"==this.type,tree:{isMultiple:!0,filter:{isFilter:!0},treeMethod:"office_getOfficeUserTree",treeObject:{isUser:!0},treeData:[]}},{label:"工单状态",value:"status",type:"select",disHid:!("my"==this.type||"bill"==this.type),dict:{dictType:"bill_status",dictData:[]}},{label:"派工日期",value:"dispatchDaterange",type:"daterange"},{label:"完成日期",value:"completeDaterange",disHid:"confirm"==this.type||"process"==this.type,type:"daterange"}]}}},computed:{formLabel:function(){return this.option.formId?this.option.readOnly?"工单查看":"0"==this.option.status?"工单确认":"1"==this.option.status?"工单处理":"工单编辑":"工单添加"},officeId:function(){return Object(u.a)(d.a.officeId)},userId:function(){return Object(u.a)(d.a.userId)}},created:function(){"confirm"==this.type?(this.$route.params.row&&this.confirmRow(this.$route.params.row),this.option.searchObject.impleStatus="0",this.option.searchObject.impleofficeId=this.officeId):"confirmed"==this.type?(this.option.searchObject.impleStatus="1",this.option.searchObject.impleofficeId=this.officeId,this.option.searchObject.impleofficeName=Object(u.a)(d.a.officeName)):"process"==this.type?(this.$route.params.row&&this.confirmRow(this.$route.params.row),this.option.searchObject.resultStatus="0",this.option.searchObject.impleuserId=this.userId):"processed"==this.type?(this.option.searchObject.resultStatus="1",this.option.searchObject.impleuserId=this.userId):"my"==this.type&&(this.option.searchObject.userId=this.userId)},methods:{exportRow:function(e){this.$message({message:"功能正在开发中",showClose:!0,type:"warning",duration:3e3})},editRow:function(e){this.option.formId=e.id,this.option.status=e.status,this.option.activeName="billform"},confirmRow:function(e){this.option.formId=e.id,this.option.status=e.status,this.option.isConfirm=!0,this.isbillform=!0,this.option.activeName="billform"},lookRow:function(e){this.option.formId=e.id,this.option.status=e.status,this.option.readOnly=!0,this.isbillform=!0,this.option.activeName="billform"},goBack:function(){this.reset(),this.option.activeName="bill",this.$refs.quickTable.getList()},reset:function(){this.option.formId="",this.option.status="0",this.option.readOnly=!1,this.option.isConfirm=!1,this.$route.params.row=void 0,this.isbillform="my"==this.type,this.$refs.quickTable.getList()},handleClick:function(e,t){"bill"==e.name&&this.reset()}}},x={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("div",{},[o("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.option.activeName,callback:function(t){e.$set(e.option,"activeName",t)},expression:"option.activeName"}},[o("el-tab-pane",{attrs:{label:"工单列表",name:"bill"}},[o("quick-table",{ref:"quickTable",attrs:{option:e.option},scopedSlots:e._u([{key:"menuTop",fn:function(t){var l=t.row;return["my"==e.type?[o("base-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini",content:"查看"},on:{buttonEvent:function(t){return e.lookRow(l)}}})]:"confirmed"==e.type||"bill"==e.type||"processed"==e.type?[o("base-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini",content:"查看"},on:{buttonEvent:function(t){return e.lookRow(l)}}})]:"confirm"==e.type?[l.impleofficeId.indexOf(e.officeId)>=0?[o("base-button",{attrs:{type:"warning",icon:"el-icon-check",size:"mini",content:"确认"},on:{buttonEvent:function(t){return e.confirmRow(l)}}})]:[o("base-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini",content:"查看"},on:{buttonEvent:function(t){return e.lookRow(l)}}})]]:"process"==e.type?[l.impleuserId.indexOf(e.userId)>=0?[o("base-button",{attrs:{type:"warning",icon:"el-icon-setting",size:"mini",content:"处理"},on:{buttonEvent:function(t){return e.confirmRow(l)}}})]:[o("base-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini",content:"查看"},on:{buttonEvent:function(t){return e.lookRow(l)}}})]]:e._e()]}}])})],1),e._v(" "),e.isbillform?o("el-tab-pane",{attrs:{label:e.formLabel,name:"billform"}},["billform"==e.option.activeName?o("quick-form",{attrs:{formId:e.option.formId,status:e.option.status,type:e.type,readOnly:e.option.readOnly,isConfirm:e.option.isConfirm},on:{goBack:e.goBack}}):e._e()],1):e._e()],1)],1)])},staticRenderFns:[]},j=o("C7Lr")(C,x,!1,null,null,null);t.a=j.exports},dqd5:function(e,t,o){"use strict";var l={name:"table-opear",data:function(){return{columnBox:!1,columnIndex:[],columnList:[]}},props:{option:{type:Object,default:function(){}}},created:function(){},mounted:function(){this.initData()},watch:{},methods:{refresh:function(){this.$emit("refresh")},initData:function(){this.columnList=this.option.columns;for(var e=this.option.columns.length,t=0;t<e;t++)this.option.columns[t].hidden||this.columnIndex.push(this.option.columns[t].prop);this.$emit("changeColumn",this.columnIndex)},changeColumn:function(e){this.$emit("changeColumn",e)}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"table-opear"},[e.option.tableMenu?o("el-row",[o("el-button",{attrs:{icon:"el-icon-refresh",size:"mini",circle:""},on:{click:e.refresh}}),e._v(" "),o("el-button",{attrs:{icon:"el-icon-menu",size:"mini",circle:""},on:{click:function(t){e.columnBox=!0}}})],1):e._e(),e._v(" "),o("el-dialog",{staticClass:"table-opear-dialog",attrs:{"lock-scroll":"","modal-append-to-body":!1,"append-to-body":!0,title:"请选择表格列",visible:e.columnBox},on:{"update:visible":function(t){e.columnBox=t}}},[o("el-checkbox-group",{on:{change:e.changeColumn},model:{value:e.columnIndex,callback:function(t){e.columnIndex=t},expression:"columnIndex"}},[o("el-row",{staticClass:"dynamic_table",attrs:{span:24}},[e._l(e.columnList,function(t,l){return o("el-col",{key:l,attrs:{span:8}},[o("el-checkbox",{attrs:{label:t.prop}},[e._v(e._s(t.label))])],1)}),e._v(" "),e.columnList.length%3==1?[o("el-col",{attrs:{span:8}}),e._v(" "),o("el-col",{attrs:{span:8}})]:e._e(),e._v(" "),e.columnList.length%3==2?[o("el-col",{attrs:{span:8}})]:e._e()],2)],1)],1)],1)},staticRenderFns:[]};var n=o("C7Lr")(l,i,!1,function(e){o("1COB")},null,null);t.a=n.exports},gnUw:function(e,t,o){"use strict";var l=o("3cXf"),i=o.n(l),n=o("ZLEe"),a=o.n(n),s=o("aA9S"),c=o.n(s),r=o("ANQr"),u=o("oAV5"),d=o("mucQ"),m=o("5m1h"),p={name:"quickForm",directives:{elDragDialog:d.a},components:{baseButton:r.a,basePassword:m.i,baseInput:m.f,baseRadio:m.j,baseCheckbox:m.a,baseSelect:m.k,baseInputnum:m.g,baseNumber:m.h,baseTextarea:m.l,baseDate:m.b,baseDaterange:m.c,baseTime:m.m,baseTimerange:m.n,baseTree:m.o,baseUpload:m.p,baseDatetime:m.d,baseDatetimerange:m.e},props:{option:{type:Object,default:function(){}}},data:function(){return{dialogDisabled:!1,dialogType:"新增",dialogRow:{},childObject:{},dateArrayChild:[],loadingChild:!1,loading:!1,dateArray:[],defaultProps:{id:"id",children:"children",label:"name"},defaultoption:{name:"模板",apiName:"model",id:"",initObject:{},formObject:{},columns:[],formChildInfo:[]}}},computed:{options:function(){var e=c()({},this.defaultoption,this.option);return e}},created:function(){_.isEmpty(this.option.initObject.parentId)?_.isEmpty(this.option.initObject.id)||("function"==typeof this.option.callback.initCallback?(0,this.option.callback.initCallback)():this.getform()):_.isEmpty(this.option.initObject.id)&&this.getform();this.initData()},mounted:function(){if(document.getElementById("quickForm").offsetHeight<=400){var e=document.getElementById("quickBaseForm").offsetHeight;document.getElementById("bottomBtn").style["margin-top"]=400-e-74+"px"}else document.getElementById("bottomBtn").style["margin-top"]="20px"},methods:{initData:function(){for(var e=0;e<this.options.formChildInfo.length;e++){var t=this.options.formChildInfo[e].childArray||[],o=t.length;if(o>0)for(var l=0;l<o;l++)if(t[l].dict){if(t[l].dict.dictData&&t[l].dict.dictData.length>0)continue;this.getDictType(t[l].dict)}}},getDictType:function(e){var t=this,o=arguments;Object(u.j)(e.method)?this.$store.dispatch("dict_getDictListByType",e.dictType).then(function(){if(e.dictData=t.$store.state.dict.dictListType,o.length>1)for(var l=1;l<o.length;l++)o[l].dictData=e.dictData}):this.$store.dispatch(e.method,e.params).then(function(o){o&&"200"==o.code?e.dictData=o.data.rows:t.$message({message:o.message||"字典获取失败",showClose:!0,type:"error",duration:3e3})})},goBack:function(){this.$emit("goBack")},getform:function(){var e=this;this.$store.dispatch(this.option.apiName+"_form",this.option.initObject).then(function(t){if(t&&"200"==t.code){var o=c()({},e.option.formObject,t.data.formObject);if(e.option.assistParams){var l=e.option.assistParams;for(var i in l){if("ArrayString"==l[i]){var n=o[i];n=n.split(","),o[i]=n}}}e.option.formObject=o}else e.$message({message:t.message||"获取失败",showClose:!0,type:"error",duration:3e3})})},submitSave:function(e){var t=this;this.loading=!0,this.option.callback&&_.isEmpty(this.option.callback.submitCallback)?this.$refs[e].validate(function(e){if(!e)return console.log("表单验证失败"),t.loading=!1,!1;var o=_.cloneDeep(t.option.formObject);if(a()(o).forEach(function(e){Array.isArray(o[e])&&(o[e].length>0?o[e]=i()(o[e]):delete o[e])}),t.option.assistParams){var l=t.option.assistParams;for(var n in l){var s=l[n];o[n]="ArrayString"==s?JSON.parse(o[n]).toString():o[s]}}try{t.$store.dispatch(t.option.apiName+"_save",o).then(function(e){e&&200==e.code?(t.$message({message:"保存成功",showClose:!0,type:"success",duration:5e3}),t.goBack()):t.$message({message:e.message||"保存失败",showClose:!0,type:"error",duration:5e3}),t.loading=!1})}catch(e){console.log(e),t.loading=!1}}):this.$emit(this.option.callback.submitCallback,this,this.loading)},thousandBitSeparator:u.q,addChildInfo:function(e,t){this.childObject=_.cloneDeep(e.childObject),e.dialogTitle=e.dialogTitle.split("_")[0]+"_新增",this.toggle_dialog(e,t),this.dialogDisabled=!1},toggle_dialog:function(e,t){var o=this;this.dialogDisabled=!0,this.dialogType="新增",e.dialogField=!e.dialogField,setTimeout(function(){e.childObject=_.cloneDeep(o.childObject)},300),this.$refs[t]&&this.$refs[t].length>0&&this.$refs[t][0]&&this.$refs[t][0].clearValidate()},commonSubmitSave:function(e,t,o){var l=this;if(t.otherVaild){var i=_.cloneDeep(o);if(i.push(t.childObject),t.otherVaild({childInfo:_.cloneDeep(t.childObject),oldVal:this.dialogRow,commonList:i,type:this.dialogType}))return}this.$refs[e][0].validate(function(i){if(!i)return console.log("表单验证失败"),!1;"新增"===t.dialogTitle.split("_")[1]?o.push(t.childObject):l.$set(o,t.indexField,t.childObject),l.toggle_dialog(t,e)})},delMenu:function(e,t,o,l){var i=this;if(l.delInterface&&l.delInterface.useInt){var n=l.delInterface.delObject||{id:o.id},a=l.delInterface.delMethod||l.childEnName+"_delete";this.$store.dispatch(a,n).then(function(e){"200"==e.code?i.$message({message:"删除成功",showClose:!0,type:"success",duration:3e3}):i.$message({message:e.message||"删除失败",showClose:!0,type:"error",duration:3e3})})}else t.splice(e,1)},commonEdit:function(e,t,o){this.$set(o,"dialogField",!0),this.$set(o,"dialogTitle",o.dialogTitle.split("_")[0]+"_编辑"),this.$set(o,"indexField",e),this.$set(o,"childObject",_.cloneDeep(t)),this.dialogDisabled=!1,this.dialogType="编辑",this.dialogRow=_.cloneDeep(t)}}},f={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"infoform",attrs:{id:"quickForm"}},[o("div",{staticClass:"form_title"},[e._v(e._s(e.options.name)+"基本信息")]),e._v(" "),o("el-form",{ref:"ruleForm",staticClass:"baseform baseform_wrap",attrs:{model:e.options.formObject,id:"quickBaseForm","label-width":e.options.labelWidth?e.options.labelWidth:"100px"}},[o("el-row",{attrs:{gutter:20}},[e._l(e.options.columns,function(t,l){return[t.type?[o("span",{key:l},["input"==t.type?[o("base-input",{attrs:{column:t,options:e.options}})]:e._e(),e._v(" "),"password"==t.type?[o("base-password",{attrs:{column:t,options:e.options}})]:"radio"==t.type?[o("base-radio",{attrs:{column:t,options:e.options}})]:"checkbox"==t.type?[o("base-checkbox",{attrs:{column:t,options:e.options}})]:"inputNumber"==t.type?[o("base-inputnum",{attrs:{column:t,options:e.options}})]:"number"==t.type?[o("base-number",{attrs:{column:t,options:e.options}})]:"textarea"==t.type?[o("base-textarea",{attrs:{column:t,options:e.options}})]:"select"==t.type?[o("base-select",{attrs:{column:t,options:e.options}})]:"date"==t.type?[o("base-date",{attrs:{column:t,options:e.options}})]:"daterange"==t.type?[o("base-daterange",{attrs:{column:t,options:e.options}})]:"time"==t.type?[o("base-time",{attrs:{column:t,options:e.options}})]:"timerange"==t.type?[o("base-timerange",{attrs:{column:t,options:e.options}})]:"datetime"==t.type?[o("base-datetime",{attrs:{column:t,options:e.options}})]:"datetimerange"==t.type?[o("base-datetimerange",{attrs:{column:t,options:e.options}})]:"tree"==t.type?[o("base-tree",{attrs:{column:t,options:e.options}})]:"upload"==t.type?[o("base-upload",{attrs:{column:t,options:e.options}})]:"slot"==t.type?[e._t(t.slotName,null,{slotColumn:t,slotValue:t.value})]:e._e()],2)]:e._e()]})],2),e._v(" "),e._t("childrenbefore"),e._v(" "),e._l(e.options.formChildInfo,function(t,l){return[o("div",{key:l},[o("div",{staticClass:"form_title",staticStyle:{width:"100%"}},[e._v(e._s(t.childTitle)+"列表")]),e._v(" "),t.disabled?e._e():o("el-form",{staticClass:"demo-form-inline",staticStyle:{margin:"0 auto",width:"100%","text-align":"left"},attrs:{inline:!0}},[o("el-form-item",{staticStyle:{"margin-bottom":"0"}},[o("el-button",{attrs:{type:"text",icon:"el-icon-plus",size:"small"},on:{click:function(o){return e.addChildInfo(t,t.childEnName+"Form")}}},[e._v("新增")])],1)],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingChild,expression:"loadingChild"}],staticStyle:{width:"100%"},attrs:{data:e.options.formObject[t.childEnName+"s"],stripe:""}},[o("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",width:"50"}}),e._v(" "),e._l(t.childArray,function(t,l){return[t.disHid?e._e():o("el-table-column",{key:l,attrs:{prop:t.value,"show-overflow-tooltip":0!=t.showTooltip,label:t.label+(t.labelUnit||""),width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){return[t.dict?o("span",[t.dict.tags&&t.dict.tags.length>0?[o("el-tag",{key:l,attrs:{type:e.getDictLabel(i.row[t.value],t.dict.tags,t.value)[t.dict.defaultProps?t.dict.defaultProps.label:"label"]}},[e._v("\n                      "+e._s(e.getDictLabel(i.row[t.value],t.dict.dictData,t.value)[t.dict.defaultProps?t.dict.defaultProps.label:"label"])+"\n                    ")])]:[o("span",[e._v(e._s(e.getDictLabel(i.row[t.value],t.dict.dictData,t.value)[t.dict.defaultProps?t.dict.defaultProps.label:"label"])+" ")])]],2):t.tree?o("span",[o("span",[e._v(e._s(i.row[t.name]))])]):o("span",[t.isMoney?o("span",[e._v(e._s(e.thousandBitSeparator(i.row[t.value])))]):o("span",[e._v(e._s(i.row[t.value]?i.row[t.value]:"0"==i.row[t.value]?0:"——"))])])]}}],null,!0)})]}),e._v(" "),t.disabled?e._e():o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(l){return[e._t("buttonbefore",null,{row:l.row,index:l.$index}),e._v(" "),o("base-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"mini",content:"编辑"},on:{buttonEvent:function(o){return e.commonEdit(l.$index,l.row,t)}}}),e._v(" "),o("base-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",content:"删除"},on:{buttonEvent:function(o){return e.delMenu(l.$index,e.options.formObject[t.childEnName+"s"],l.row,t)}}}),e._v(" "),e._t("buttonafter",null,{row:l.row,index:l.$index})]}}],null,!0)})],2),e._v(" "),o("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{title:t.dialogTitle,visible:t.dialogField,width:"70%",center:"center"},on:{"update:visible":function(o){return e.$set(t,"dialogField",o)}}},[o("el-form",{ref:t.childEnName+"Form",refInFor:!0,staticClass:"baseform Contacts",staticStyle:{width:"90%"},attrs:{model:t.childObject,"label-width":t.labelWidth?t.labelWidth:"100px"}},[o("div",{staticClass:"infoform",staticStyle:{width:"95%"}},[o("div",{staticClass:"form_title"},[e._v("基本信息")]),e._v(" "),o("div",{staticStyle:{width:"90%",margin:"0 auto"}},[o("div",{staticClass:"dialog_form"},[e._l(t.childArray,function(l,i){return["input"==l.type?[o("base-input",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:e._e(),e._v(" "),"password"==l.type?[o("base-password",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"radio"==l.type?[o("base-radio",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"checkbox"==l.type?[o("base-checkbox",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"inputNumber"==l.type?[o("base-inputnum",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"number"==l.type?[o("base-number",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"textarea"==l.type?[o("base-textarea",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"select"==l.type?[o("base-select",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"date"==l.type?[o("base-date",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"daterange"==l.type?[o("base-daterange",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"time"==l.type?[o("base-time",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"timerange"==l.type?[o("base-timerange",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"datetime"==l.type?[o("base-datetime",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"datetimerange"==l.type?[o("base-datetimerange",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"tree"==l.type?[o("base-tree",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"upload"==l.type?[o("base-upload",{key:i,attrs:{column:l,options:t,labelType:"child"}})]:"slot"==l.type?[e._t(l.slotName,null,{emitValue:l,emitObject:t})]:e._e()]})],2)])])]),e._v(" "),o("span",{staticClass:"dialog-footer save-return",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",disabled:e.dialogDisabled},on:{click:function(o){return e.commonSubmitSave(t.childEnName+"Form",t,e.options.formObject[t.childEnName+"s"])}}},[e._v("保 存")]),e._v(" "),o("el-button",{attrs:{disabled:e.dialogDisabled},on:{click:function(o){return e.toggle_dialog(t,t.childEnName+"Form")}}},[e._v("返 回")])],1)],1)],1)]}),e._v(" "),e._t("childrenafter"),e._v(" "),o("el-row",{attrs:{gutter:20,id:"bottomBtn"}},[o("el-col",{attrs:{span:12,offset:6}},[o("el-form-item",{staticClass:"save-return"},[e._t("FinallSlotBefore"),e._v(" "),e.options.hasPermission.save.isShow&&e.options.hasPermission.save.isPermission?o("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){e.options.hasPermission.save.callback?e.options.hasPermission.save.callback():e.submitSave("ruleForm")}}},[e._v("\n            保存\n          ")]):e._e(),e._v(" "),e._t("FinallSlotCenter"),e._v(" "),e.options.hasPermission.back.isShow&&e.options.hasPermission.back.isPermission?o("el-button",{on:{click:function(t){e.options.hasPermission.back.callback?e.options.hasPermission.back.callback():e.goBack()}}},[e._v("\n            返回\n          ")]):e._e(),e._v(" "),e._t("FinallSlotAfter")],2)],1)],1)],2)],1)},staticRenderFns:[]};var h=o("C7Lr")(p,f,!1,function(e){o("YX/w")},null,null);t.a=h.exports},iZyC:function(e,t){},m5p0:function(e,t,o){o("IHur"),e.exports=o("/KQr").Object.keys},mucQ:function(e,t,o){"use strict";var l={bind:function(e,t,o){var l=e.querySelector(".el-dialog__header"),i=e.querySelector(".el-dialog");l.style.cssText+=";cursor:move;",i.style.cssText+=";top:0px;";var n=window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]};l.onmousedown=function(e){var t=e.clientX-l.offsetLeft,a=e.clientY-l.offsetTop,s=i.offsetWidth,c=i.offsetHeight,r=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=i.offsetLeft,m=r-i.offsetLeft-s,p=i.offsetTop,f=u-i.offsetTop-c,h=n(i,"left"),b=n(i,"top");h.includes("%")?(h=+document.documentElement.clientWidth*(+h.replace(/\%/g,"")/100),b=+document.documentElement.clientHeight*(+b.replace(/\%/g,"")/100)):(h=+h.replace(/\px/g,""),b=+b.replace(/\px/g,"")),document.onmousemove=function(e){var l=e.clientX-t,n=e.clientY-a;-l>d?l=-d:l>m&&(l=m),-n>p?n=-p:n>f&&(n=f),i.style.cssText+=";left:"+(l+h)+"px;top:"+(n+b)+"px;",o.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},i=function(e){e.directive("el-drag-dialog",l)};window.Vue&&(window["el-drag-dialog"]=l,Vue.use(i)),l.install=i;t.a=l},rCm1:function(e,t){},w3CS:function(e,t,o){"use strict";o.d(t,"d",function(){return i}),o.d(t,"c",function(){return n}),o.d(t,"a",function(){return a}),o.d(t,"e",function(){return s}),o.d(t,"b",function(){return c});o("oAV5");var l=o("IcnI"),i=function(e,t,o){var l=/^[1][0-9]{10}$/.test(t);e.required||t||o(),t?l?o():o(new Error("手机号号码必须为11位数")):o(new Error("手机号码不能为空"))},n=function(e,t,o){var l=/^\d{4}-\d{7,8}$/.test(t);e.required||t||o(),t?l?o():o(new Error("格式如下：0799-7777777、0799-88888888")):o(new Error("联系电话不能为空"))},a=function(e){return function(t,o,l){var i=/(\d)+$/.test(o),n=/\.+/.test(o),a=/^(\d)+/.test(o);t.required||o||l(),o?i&&a&&n?l():l(new Error(e.name+"必须是数字和点组成")):l(new Error(e.name+"不能为空"))}},s=function(e){var t=e.validateMethod,o=e.name,i=e.keyField,n=e.fileId,a=e.type||1;return function(e,s,c){if(""==s||void 0==s)c(new Error(o+"不能为空"));else{var r={};""==n||void 0==n?r[i]=s:(r.id=n,r[i]=s),l.a.dispatch(t,r).then(function(e){1==a?"200"===e.code?e.data.isExist?c(new Error(o+"已存在")):c():c(new Error(e.message)):e?c():c(new Error(o+"已存在"))})}}},c=function(e){var t=e.self,o=e.keyField,l=e.name,i=e.precision||2,n=e.maxNumber||1e9;return function(e,a,s){(a=_.round(a,i))>=0&&a<=n?(_.set(t,o,a),s()):s(new Error(l+"必须在0到"+n+"之间"))}}},y29j:function(e,t){}});