webpackJsonp([24],{"+uyn":function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t,r=i("0qgA"),l=i("a3Yh"),n=i.n(l),s=i("gnUw"),o=i("w3CS"),d=i("oAV5"),u=(t={components:{quickForm:s.a},props:{formId:{type:String,default:""},readOnly:{type:Boolean,default:!1}},created:function(){},computed:{},data:function(){var e=this;return{option:{name:"视频会议",apiName:"video",labelWidth:"120px",initObject:{id:this.formId},callback:{},hasPermission:{save:{isShow:!this.readOnly,isPermission:!0},back:{isShow:"true",isPermission:!0}},columns:[{label:"会议名称",value:"name",disHid:!1,disabled:this.readOnly,rule:[{required:!0,message:"会议名称不能为空",trigger:"blur"},{min:0,max:64,message:"会议名称长度必须介于 0 到 64 之间",trigger:"blur"}],type:"input"},{label:"会议地点",value:"address",disHid:!1,disabled:this.readOnly,rule:[{required:!0,message:"会议地点不能为空",trigger:"blur"},{min:0,max:64,message:"会议地点长度必须介于 0 到 64 之间",trigger:"blur"}],type:"input"},{label:"开会日期",value:"meetingDate",disHid:!1,toweek:!0,disabled:this.readOnly,type:"date",rule:[{required:!0,message:"开会日期不能为空",trigger:"change"}]},{label:"会议级别",value:"level",disHid:!1,disabled:this.readOnly,type:"select",dict:{dictType:"",dictData:[{value:"0",label:"【国家-省-市-县】"},{value:"1",label:"【国家-省-市】"},{value:"2",label:"【省-市-县】"},{value:"3",label:"【市-县】"}]},rule:[{required:!0,message:"会议级别不能为空",trigger:"change"}]},{label:"主办单位",value:"organiserName",type:"input",disHid:!1,disabled:this.readOnly,rule:[{required:!0,message:"主办单位不能为空",trigger:"blur"},{min:0,max:64,message:"主办单位长度必须介于 0 到 64 之间",trigger:"blur"}]},{label:"联系电话",value:"tel",disHid:!1,disabled:this.readOnly,type:"input",rule:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{required:!0,validator:o.c,trigger:"blur"}]},{label:"手机号码",value:"mobile",disHid:!1,disabled:this.readOnly,type:"input",rule:[{required:!0,validator:o.d,trigger:"blur"}]},{label:"开机时间",value:"turnonTime",disHid:!1,disabled:this.readOnly,type:"time",rule:[{required:!0,message:"开机时间不能为空",trigger:"change"}]},{label:"开始时间",value:"beginDate",disHid:!1,disabled:this.readOnly,type:"time",rule:[{required:!0,message:"开始时间不能为空",trigger:"change"}]},{label:"结束时间",value:"endDate",disHid:!1,disabled:this.readOnly,type:"time",rule:[{required:!0,message:"结束时间不能为空",trigger:"change"},{validator:function(a,i,t){var r=new Date("1970/1/1 "+i),l=new Date("1970/1/1 "+e.option.formObject.turnonTime),n=new Date("1970/1/1 "+e.option.formObject.beginDate),s=(r-l)/864e5;s<=0||(r-n)/864e5<=0?t(s<=0?new Error("结束时间必需大于开机时间"):new Error("结束时间必需大于开始时间")):t()},trigger:"blur"}]},{label:"参会人数",value:"number",disHid:!1,disabled:this.readOnly,type:"number",rule:[{required:!0,message:"参会人数不能为空",trigger:"blur"},{validator:o.b({self:this,precision:0,name:"参会人数",keyField:"option.formObject.number"}),trigger:"blur"}]},{label:"主要领导",value:"leaderIds",name:"leaderNames",type:"tree",rule:[{required:!0,message:"主要领导不能为空",trigger:"change"}],disHid:!1,disabled:this.readOnly,tree:{isMultiple:!0,treeMethod:"office_getOfficeUserTree",treeObject:{isUser:!0},treeData:[]}},{label:"会议保障",value:"ensureId",name:"ensureName",type:"tree",rule:[{required:!0,message:"会议保障不能为空",trigger:"change"}],disHid:!1,disabled:this.readOnly,tree:{treeMethod:"office_getOfficeUserTree",treeObject:{isUser:!0},treeData:[]}},{label:"备注",value:"remarks",type:"textarea",disHid:!1,disabled:this.readOnly,rule:[{min:0,max:500,message:"备注长度必须介于 0 到 500 之间",trigger:"blur"}]}],formObject:{weekDate:""},formChildInfo:[]}}}},n()(t,"computed",{meetingDate:function(){return this.option.formObject.meetingDate}}),n()(t,"watch",{meetingDate:{handler:function(e,a){var i=Object(d.c)(e);this.$set(this.option.formObject,"weekDate",i)},deep:!0}}),n()(t,"methods",{goBack:function(){this.$emit("goBack")}}),t),c={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"videoform"},[a("quick-form",{attrs:{option:this.option},on:{goBack:this.goBack}})],1)},staticRenderFns:[]},m=i("C7Lr")(u,c,!1,null,null,null).exports,b={name:"videoList",components:{quickTable:r.a,quickForm:m},data:function(){return{option:{selection:!1,showIndex:!0,tableMenu:!1,isPage:!0,activeName:"video",formId:"",name:"视频会议",apiName:"video",readOnly:!1,hasPermission:{edit:{isShow:"true",flag:"conferenceInfo:edit",isPermission:!1},del:{isShow:"true",flag:"conferenceInfo:remove",isPermission:!0}},columns:[{label:"会议名称",prop:"name"},{label:"会议地点",prop:"address"},{label:"开会日期",prop:"meetingDate",formatter:function(e,a,i,t){return Object(d.g)(new Date(i),"yyyy-MM-dd")+"（"+Object(d.c)(i)+"）"}},{label:"会议级别",prop:"level",dict:{dictType:"",dictData:[{value:"0",label:"【国家-省-市-县】"},{value:"1",label:"【国家-省-市】"},{value:"2",label:"【省-市-县】"},{value:"3",label:"【市-县】"}]}},{label:"主办单位",prop:"organiserName"},{label:"参会人数(人)",prop:"number"}],searchObject:{name:"",dateRange:"",organiserId:"",organiserName:"",level:"",pageNo:1,pageSize:15},searchColums:[{label:"会议名称",value:"name",type:"input"},{label:"开会日期",value:"dateRange",type:"daterange"},{label:"主办单位",value:"organiserName",type:"input"},{label:"会议级别",value:"level",type:"select",dict:{dictType:"",dictData:[{value:"0",label:"【国家-省-市-县】"},{value:"1",label:"【国家-省-市】"},{value:"2",label:"【省-市-县】"},{value:"3",label:"【市-县】"}]}}]}}},created:function(){},computed:{formLabel:function(){return this.option.formId?this.option.readOnly?"视频会议查看":"视频会议编辑":"视频会议添加"}},methods:{goBack:function(){this.option.formId="",this.option.activeName="video",this.option.readOnly=!1,this.$refs.quickTable.getList()},handleClick:function(e,a){"video"==e.name&&(this.option.formId="",this.option.readOnly=!1,this.$refs.quickTable.getList())}}},g={render:function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"app-container"},[i("div",{},[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.option.activeName,callback:function(a){e.$set(e.option,"activeName",a)},expression:"option.activeName"}},[i("el-tab-pane",{attrs:{label:"视频会议列表",name:"video"}},[i("quick-table",{ref:"quickTable",attrs:{option:e.option}})],1),e._v(" "),e.option.readOnly||e.option.hasPermission.edit.isPermission?i("el-tab-pane",{attrs:{label:e.formLabel,name:"videoform"}},["videoform"==e.option.activeName?i("quick-form",{attrs:{formId:e.option.formId,readOnly:e.option.readOnly},on:{goBack:e.goBack}}):e._e()],1):e._e()],1)],1)])},staticRenderFns:[]},p=i("C7Lr")(b,g,!1,null,null,null);a.default=p.exports}});