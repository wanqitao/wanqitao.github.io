webpackJsonp([26],{Kqci:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i,s=t("0qgA"),r=t("a3Yh"),l=t.n(r),o=t("gnUw"),c=t("w3CS"),n=(i={components:{quickForm:o.a},props:{formId:{type:String,default:""},readOnly:{type:Boolean,default:!1}},created:function(){},computed:{},data:function(){var e=this;return{option:{name:"接入单位",apiName:"access",initObject:{id:this.formId},callback:{},hasPermission:{save:{isShow:!this.readOnly,isPermission:!0},back:{isShow:"true",isPermission:!0}},columns:[{label:"单位名称",value:"name",disHid:!1,disabled:this.readOnly,type:"input",rule:[{required:!0,message:"单位名称不能为空",trigger:"blur"},{min:0,max:64,message:"单位名称长度必须介于 0 到 64 之间",trigger:"blur"},{validator:c.e({validateMethod:"access_validateName",name:"单位名称",keyField:"name",fileId:this.formId}),trigger:"blur"}]},{label:"单位地址",value:"address",disHid:!1,disabled:this.readOnly,type:"input",rule:[{required:!0,message:"单位地址不能为空",trigger:"blur"},{min:0,max:64,message:"单位地址长度必须介于 0 到 64 之间",trigger:"blur"}]},{label:"联系人",value:"contactId",type:"input",disabled:this.readOnly,rule:[{required:!0,message:"联系人不能为空",trigger:"blur"},{min:0,max:64,message:"联系人长度必须介于 0 到 64 之间",trigger:"blur"}]},{label:"联系电话",value:"tel",disHid:!1,disabled:this.readOnly,type:"input",rule:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{required:!0,validator:c.c,trigger:"blur"}]},{label:"手机号码",value:"mobile",disHid:!1,disabled:this.readOnly,type:"input",rule:[{required:!1,validator:c.d,trigger:"blur"}]},{label:"职务",value:"job",disHid:!1,disabled:this.readOnly,type:"input",rule:[{message:"职务不能为空",trigger:"blur"},{min:0,max:64,message:"职务长度必须介于 0 到 64 之间",trigger:"blur"}]},{label:"政务网接入",value:"govaffairsType",type:"checkbox",rule:[{required:!0,message:"政务网接入不能为空",trigger:"change"}],disHid:!1,disabled:this.readOnly,data:{dataList:e.$store.dispatch("dict_getDictListByType","access_govaffairsType").then(function(a){return function(e){return e}(e.$store.state.dict.dictListType)})}},{label:"接入类型",value:"accessType",type:"checkbox",disHid:!1,disabled:this.readOnly,rule:[{required:!0,message:"接入类型不能为空",trigger:"change"}],data:{dataList:e.$store.dispatch("dict_getDictListByType","access_accessType").then(function(a){return function(e){return e}(e.$store.state.dict.dictListType)})}},{label:"其他接入",value:"accessElse",slotName:"accessElse",disabled:this.readOnly,type:"slot"}],assistParams:{govaffairsType:"ArrayString",accessType:"ArrayString"},formObject:{govaffairsType:[],accessType:[]},formChildInfo:[]}}}},l()(i,"computed",{}),l()(i,"watch",{}),l()(i,"methods",{goBack:function(){this.$emit("goBack")}}),i),d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"accessform"},[t("quick-form",{attrs:{option:e.option},on:{goBack:e.goBack},scopedSlots:e._u([{key:"accessElse",fn:function(a){a.slotColumn;var i=a.slotValue;return[e.option.formObject.accessType.indexOf("5")>=0?t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"其他接入:",rules:[{required:!0,message:"其他接入不能为空",trigger:"blur"},{min:0,max:64,message:"其他接入长度必须介于 0 到 64 之间",trigger:"blur"}],prop:i}},[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入其他接入",clearable:"",disabled:e.readOnly},model:{value:e.option.formObject[i],callback:function(a){e.$set(e.option.formObject,i,"string"==typeof a?a.trim():a)},expression:"option.formObject[slotValue]"}})],1)],1):e._e()]}}])})],1)},staticRenderFns:[]},u=t("C7Lr")(n,d,!1,null,null,null).exports,p={name:"accessList",components:{quickTable:s.a,quickForm:u},data:function(){return{option:{selection:!1,showIndex:!0,tableMenu:!1,isPage:!0,activeName:"access",formId:"",name:"接入单位",readOnly:!1,apiName:"access",hasPermission:{edit:{isShow:!0,flag:"accessInfo:edit",isPermission:!1},del:{isShow:!0,flag:"accessInfo:remove",isPermission:!0}},columns:[{label:"单位名称",prop:"name"},{label:"单位地址",prop:"address"},{label:"联系人",prop:"contactId"},{label:"职务",prop:"job"},{label:"政务网接入",prop:"govaffairsType",dict:{dictType:"access_govaffairsType",dictData:[]}},{label:"接入类型",prop:"accessType",dict:{dictType:"access_accessType",dictData:[]}}],searchObject:{pageNo:1,pageSize:15},searchColums:[{label:"单位名称",value:"name",type:"input"},{label:"政务网接入",value:"govaffairsType",type:"select",dict:{dictType:"access_govaffairsType",dictData:[]}},{label:"接入类型",value:"accessType",type:"select",dict:{dictType:"access_accessType",dictData:[]}}]}}},created:function(){},computed:{formLabel:function(){return this.option.formId?this.option.readOnly?"接入单位查看":"接入单位编辑":"接入单位添加"}},methods:{goBack:function(){this.option.formId="",this.option.activeName="access",this.option.readOnly=!1,this.$refs.quickTable.getList()},handleClick:function(e,a){"access"==e.name&&(this.option.formId="",this.option.readOnly=!1,this.$refs.quickTable.getList())}}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("div",{},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.option.activeName,callback:function(a){e.$set(e.option,"activeName",a)},expression:"option.activeName"}},[t("el-tab-pane",{attrs:{label:"接入单位列表",name:"access"}},[t("quick-table",{ref:"quickTable",attrs:{option:e.option}})],1),e._v(" "),e.option.readOnly||e.option.hasPermission.edit.isPermission?t("el-tab-pane",{attrs:{label:e.formLabel,name:"accessform"}},["accessform"==e.option.activeName?t("quick-form",{attrs:{formId:e.option.formId,readOnly:e.option.readOnly},on:{goBack:e.goBack}}):e._e()],1):e._e()],1)],1)])},staticRenderFns:[]},g=t("C7Lr")(p,m,!1,null,null,null);a.default=g.exports}});